const _0x28b9ae=_0x2a04;function _0x4313(){const _0x1dbb21=['click','2iAROVP','.go(','mel_metapage.Functions.searchOnMail(\x27','mel_metapage.calendar.last_update','mel_metapage.tasks_updated','nextcloud_gotourl','_instance','wait_frame_loaded','replaceAll','public/','rcmail','busy','get','key','PostToParent','menu-badge-tasks','rcmail.mel_metapage_fn.calendar_updated();','removeChild','GET','window.history.replaceState({},\x20document.title,\x20\x27','ariane','\x27,\x20','contentWindow','toggle-options-user','last_calendar_update','_action','from','all_events','search','.then((a)\x20=>\x20{\x20(','storage.change','remove','mel_metapage.mail.count','mel.ask','change_frame','_KEY=','username','AsyncFunction','PopUp','getItem','function','_-C-_','value','mel_metapage.doActionFrame','each','887392uyicgQ','execCommand','mm_st_OpenOrCreateFrame','rcmail.env.last_frame_class','localStorage','973325tdhNOo','then','start','handler','format','#mel_nextcloud_frame','uid','constructor','rcmail.set_busy(true,\x20\x27loading\x27)','change_page','mel_metapage.calendar','string','postMessage','disabled','mel_metapage.call.loading','card','display_message','attr','day','url','removeClass','join','wait','items','random','http','parse','rcmail.set_busy(false);rcmail.clear_messages();','stringify','menu-badge-ariane','&source=','href','folder','mel_metapage.wsp.mails','ask','env','1971471MMBFtK','set_busy','mel_metapage.wsp_stockage_updated','mel.busy','generated-document-input-mel-metapage','workspaces','&fileid=','default','-frame','length','triggerEvent','floor','null','check_if_date_is_okay','toString','DD/MM/YYYY','https','tasks','wait_call_loading','nextcloud_pinged','iframe.stockage-frame','is_show','createElement','substring','mel_metapage.Storage.set(\x22mel.ask\x22,\x20','any','pathname','ajax','waiting...','toArray',')(a)\x20})','clear_messages','calendar','YYYY-MM-DDTHH:mm:ss','find','iframe.mail-frame','mel_metapage.calendars.by_days','6826850nPmrHK','location','replace','where','nextcloud_url','toUpperCase','webconf_helper','src','wait_frame_loading','826037dKRQMb','origin','file','&start=','Functions','z-index','error','\x20copier\x20dans\x20le\x20presse-papier.','ev_calendar_url','wait_frame_waiting','body','loaded','235837dxBfxH','addClass','iframe.','6VafAch','_shuffle','unexist','hasOwnProperty','generated-document-input-mel-metapage-ext','Storage','end','iframe.mm-frame','removeItem','val','mel_metapage','name','sync','1031202TdVVqE','mel_metapage.mails_updated','set','check_day','_data','includes','webconf','rcmail.mel_metapage_fn.tasks_updated()','mel_metapage.calendar_updated','call','Symbols','split','generated-document-select-mel-metapage-path','/apps/files/','new\x20Nextcloud(\x22rcmail.env.nextcloud_username\x22)','push','endOf','hide','events','24OvQNBt','mel_metapage.tasks.others.count','mel_metapage_const','setStoreChange','Une\x20erreur\x20est\x20survenue\x20lors\x20de\x20la\x20synchronisation.','startOf','show'];_0x4313=function(){return _0x1dbb21;};return _0x4313();}function _0x2a04(_0x400a82,_0x599209){const _0x4313d8=_0x4313();return _0x2a04=function(_0x2a04fb,_0x32c937){_0x2a04fb=_0x2a04fb-0x95;let _0x2e58b0=_0x4313d8[_0x2a04fb];return _0x2e58b0;},_0x2a04(_0x400a82,_0x599209);}(function(_0x29547a,_0x54fd17){const _0x118bd5=_0x2a04,_0x3d0ef7=_0x29547a();while(!![]){try{const _0x4b7dc9=parseInt(_0x118bd5(0xbe))/0x1*(-parseInt(_0x118bd5(0xf5))/0x2)+parseInt(_0x118bd5(0x14b))/0x3+parseInt(_0x118bd5(0x122))/0x4+-parseInt(_0x118bd5(0x127))/0x5*(parseInt(_0x118bd5(0xcd))/0x6)+parseInt(_0x118bd5(0xca))/0x7*(parseInt(_0x118bd5(0xed))/0x8)+-parseInt(_0x118bd5(0xda))/0x9+parseInt(_0x118bd5(0xb5))/0xa;if(_0x4b7dc9===_0x54fd17)break;else _0x3d0ef7['push'](_0x3d0ef7['shift']());}catch(_0x4a8379){_0x3d0ef7['push'](_0x3d0ef7['shift']());}}}(_0x4313,0x80c7b));const delay=_0x1745a1=>new Promise(_0x48fa96=>setTimeout(_0x48fa96,_0x1745a1)),isAsync=_0x457301=>_0x457301[_0x28b9ae(0x12e)][_0x28b9ae(0xd8)]===_0x28b9ae(0x11a),wait=async function(_0x5b37e6,_0x42bdfd=0x1f4){while(isAsync(_0x5b37e6)?await _0x5b37e6():_0x5b37e6()){await delay(_0x42bdfd);}},ping=async function(_0x57c4d7,_0x36dcf2=!![]){const _0x183299=_0x28b9ae;let _0x4f9088=_0x36dcf2?_0x183299(0xa0):_0x183299(0x140),_0x2046df;try{await $[_0x183299(0xab)]({'type':_0x183299(0x107),'url':!_0x57c4d7[_0x183299(0xdf)](_0x183299(0xa0))&&!_0x57c4d7[_0x183299(0xdf)](_0x183299(0x140))?_0x4f9088+'://'+_0x57c4d7:_0x57c4d7,'success':function(_0x40d8a2){_0x2046df=!![];},'error':function(_0x4b2bf3){_0x2046df=![];}});}catch(_0x4c7dbf){console[_0x183299(0xc4)](_0x4c7dbf),_0x2046df=![];}return _0x2046df;},mceToRcId=function(_0x14519e=''){const _0x243681=_0x28b9ae;return _0x14519e[_0x243681(0xfd)]('.','_-P-_')['replaceAll']('@','\x27_-A-_\x27')[_0x243681(0xfd)]('%',_0x243681(0x11e));},ev_calendar_url='?_task=calendar&_action=load_events',mel_metapage={'EventListeners':{'calendar_updated':new EventListenerDatas(_0x28b9ae(0xe2)),'tasks_updated':new EventListenerDatas(_0x28b9ae(0xf9)),'mails_updated':new EventListenerDatas(_0x28b9ae(0xdb)),'wsp_stockage_updated':new EventListenerDatas(_0x28b9ae(0x14d))},'Storage':{'unexist':Symbol('unexist'),'get'(_0x354f43){const _0xae966c=_0x28b9ae;try{return JSON[_0xae966c(0x141)](window['localStorage'][_0xae966c(0x11c)](_0x354f43));}catch(_0x237577){return this['unexist'];}},'set'(_0x5e6dfc,_0x3ee007,_0x2596b9=!![]){const _0xf05d70=_0x28b9ae;window[_0xf05d70(0x126)]['setItem'](_0x5e6dfc,_0x2596b9?JSON['stringify'](_0x3ee007):_0x3ee007),this[_0xf05d70(0xf0)](_0x5e6dfc,_0x3ee007);},'remove'(_0x139ecf){const _0x2d0220=_0x28b9ae;window['localStorage'][_0x2d0220(0xd5)](_0x139ecf),this[_0x2d0220(0xf0)](_0x139ecf,undefined);},'setStoreChange'(_0x4a296a,_0x3e7832){const _0x2e1a5e=_0x28b9ae;if(top[_0x2e1a5e(0xff)]!==undefined)top['rcmail'][_0x2e1a5e(0x9a)]('storage.change',{'key':_0x4a296a,'item':_0x3e7832});top['$'](_0x2e1a5e(0xd4))[_0x2e1a5e(0x121)]((_0x165daa,_0x2532ac)=>{const _0x5ccd06=_0x2e1a5e;try{_0x2532ac['contentWindow'][_0x5ccd06(0xff)][_0x5ccd06(0x9a)](_0x5ccd06(0x113),{'key':_0x4a296a,'item':_0x3e7832});}catch(_0x6cba8a){}});},'check'(_0x3660b0=null){const _0x20d5c7=_0x28b9ae;if(_0x3660b0===null){let _0x1e4b29=[];for(const _0x1e6f0c in mel_metapage['Storage']){const _0x414338=mel_metapage[_0x20d5c7(0xd2)][_0x1e6f0c];_0x414338!==undefined&&_0x1e4b29[_0x20d5c7(0xe9)](mel_metapage[_0x20d5c7(0xd2)][_0x20d5c7(0xdd)](_0x1e6f0c));}return{'items':_0x1e4b29,'wait':async function(){const _0x2bcd82=_0x20d5c7;for(let _0x3637f7=0x0;_0x3637f7<this[_0x2bcd82(0x13e)][_0x2bcd82(0x99)];++_0x3637f7){const _0x107ee8=this[_0x2bcd82(0x13e)][_0x3637f7];if(_0x107ee8[_0x2bcd82(0x13d)]!==undefined)await _0x107ee8[_0x2bcd82(0x13d)]();}}};}else{const _0x1e7b30=(_0x2667bf,_0x2d2835)=>{const _0x31fc7a=_0x20d5c7;let _0x4fae6b={'wait':async()=>{const _0x88008d=_0x2a04;return mel_metapage[_0x88008d(0xd2)][_0x88008d(0x101)](_0x2667bf);}},_0x328ea0=![];if(!_0x328ea0&&moment(mel_metapage[_0x31fc7a(0xd2)][_0x31fc7a(0x101)](_0x2d2835))[_0x31fc7a(0x12b)](_0x31fc7a(0x9f))!==moment()[_0x31fc7a(0x12b)](_0x31fc7a(0x9f)))_0x328ea0=!![];if(!_0x328ea0&&mel_metapage[_0x31fc7a(0xd2)][_0x31fc7a(0x101)](_0x2667bf)===null)_0x328ea0=!![];return _0x328ea0&&(mel_metapage[_0x31fc7a(0xd2)][_0x31fc7a(0x114)](_0x2667bf),workspaces['sync'][_0x31fc7a(0x103)]({'exec':_0x31fc7a(0xe1),'child':![]}),_0x4fae6b[_0x31fc7a(0x13d)]=async()=>{const _0x157182=_0x31fc7a;return await wait(()=>mel_metapage['Storage'][_0x157182(0x101)](_0x2667bf)===null),mel_metapage['Storage'][_0x157182(0x101)](_0x2667bf);}),_0x4fae6b;};switch(_0x3660b0){case mel_metapage['Storage']['other_tasks']:case mel_metapage[_0x20d5c7(0xd2)][_0x20d5c7(0xa1)]:return _0x1e7b30(_0x3660b0,mel_metapage[_0x20d5c7(0xd2)]['last_task_update']);case _0x20d5c7(0x110):case mel_metapage[_0x20d5c7(0xd2)][_0x20d5c7(0xb0)]:return _0x1e7b30(_0x3660b0,mel_metapage['Storage'][_0x20d5c7(0x10d)]);default:return item;}}},'calendar':_0x28b9ae(0x131),'calendar_by_days':_0x28b9ae(0xb4),'tasks':'mel_metapage.tasks','other_tasks':'mel_metapage.tasks.others','other_tasks_count':_0x28b9ae(0xee),'mail':_0x28b9ae(0x115),'wsp_mail':_0x28b9ae(0x148),'last_calendar_update':_0x28b9ae(0xf8),'last_task_update':'mel_metapage.tasks.last_update','ariane':'ariane_datas','wait_frame_loading':'mel_metapage.wait_frame_loading','wait_frame_waiting':_0x28b9ae(0xac),'wait_frame_loaded':_0x28b9ae(0xc9),'wait_call_loading':_0x28b9ae(0x135)},'Symbols':{'my_day':{'calendar':Symbol(_0x28b9ae(0xb0)),'tasks':Symbol(_0x28b9ae(0xa1))},'nextcloud':{'folder':Symbol(_0x28b9ae(0x147)),'file':Symbol(_0x28b9ae(0xc0))},'null':Symbol(_0x28b9ae(0x9c))},'Ids':{'menu':{'badge':{'calendar':'menu-badge-calendar','tasks':_0x28b9ae(0x104),'mail':'menu-badge-mail','ariane':_0x28b9ae(0x144)}},'create':{'doc_input':_0x28b9ae(0x14f),'doc_input_ext':_0x28b9ae(0xd1),'doc_input_hidden':'generated-document-input-mel-metapage-hidden','doc_input_path':_0x28b9ae(0xe6)}},'PopUp':{'open_ariane'(){const _0x1c96ba=_0x28b9ae;if(rcmail[_0x1c96ba(0x100)])return;mel_metapage[_0x1c96ba(0x11b)]['ariane']===null&&(mel_metapage[_0x1c96ba(0x11b)]['ariane']=new ArianePopUp(ArianeButton[_0x1c96ba(0x97)]()),rcmail['addEventListener'](_0x1c96ba(0x10c),_0x370320=>{const _0x529871=_0x1c96ba;let _0x492d4a=mel_metapage[_0x529871(0x11b)][_0x529871(0x109)]['ariane'][_0x529871(0x136)]['body'][_0x529871(0x136)][_0x529871(0xb2)]('iframe');if(_0x370320['show']===!![])_0x492d4a['css'](_0x529871(0xc3),'1');else _0x492d4a['css'](_0x529871(0xc3),'');}));if(mel_metapage['PopUp'][_0x1c96ba(0x109)][_0x1c96ba(0xa5)]===!![])mel_metapage[_0x1c96ba(0x11b)][_0x1c96ba(0x109)][_0x1c96ba(0xeb)]();else mel_metapage[_0x1c96ba(0x11b)][_0x1c96ba(0x109)][_0x1c96ba(0xf3)]();},'ariane':null},'RCMAIL_Start':{async 'ping_nextcloud'(){const _0x3ae529=_0x28b9ae;if(rcmail[_0x3ae529(0x14a)][_0x3ae529(0xb9)]!==undefined&&rcmail[_0x3ae529(0x14a)][_0x3ae529(0xb9)]!==null&&rcmail[_0x3ae529(0x14a)]['nextcloud_url']!==''){rcmail[_0x3ae529(0x14a)]['nextcloud_pinged']=await ping(rcmail[_0x3ae529(0x14a)][_0x3ae529(0xb9)]);if(rcmail['env'][_0x3ae529(0xa3)]===![])rcmail[_0x3ae529(0x14a)][_0x3ae529(0xa3)]=await ping(rcmail[_0x3ae529(0x14a)][_0x3ae529(0xb9)],!![]);}}},'Functions':{'copy'(_0x1f4445){const _0x346655=_0x28b9ae;function _0x5df248(_0x5e8a05){const _0x1860a9=_0x2a04;var _0x5de2c6=document[_0x1860a9(0xa6)]('input');_0x5de2c6[_0x1860a9(0x11f)]=_0x5e8a05,document['body']['appendChild'](_0x5de2c6),_0x5de2c6['select'](),document[_0x1860a9(0x123)]('copy'),document[_0x1860a9(0xc8)][_0x1860a9(0x106)](_0x5de2c6);}return _0x5df248(_0x1f4445),rcmail[_0x346655(0x137)](_0x1f4445+_0x346655(0xc5),'confirmation'),this;},'update_calendar'(_0xd9bd7e,_0x4b22a0){const _0x427632=_0x28b9ae;_0xd9bd7e=_0xd9bd7e['format'](_0x427632(0xb1)),_0x4b22a0=_0x4b22a0['format']('YYYY-MM-DDTHH:mm:ss');if(rcmail['env'][_0x427632(0xc6)]===undefined)rcmail[_0x427632(0x14a)][_0x427632(0xc6)]=ev_calendar_url;return $[_0x427632(0xab)]({'type':_0x427632(0x107),'url':rcmail['env']['ev_calendar_url']+(_0x427632(0x145)+mceToRcId(rcmail['env'][_0x427632(0x119)]))+_0x427632(0xc1)+_0xd9bd7e+'&end='+_0x4b22a0,'success':function(_0x2b19ed){const _0x4ec4ea=_0x427632;try{let _0x3f22c7=[];return _0x2b19ed=JSON['parse'](_0x2b19ed),_0x2b19ed=Enumerable['from'](_0x2b19ed)[_0x4ec4ea(0xb8)](_0x42444c=>mel_metapage[_0x4ec4ea(0xc2)][_0x4ec4ea(0x9d)](_0x42444c['start'],_0x42444c[_0x4ec4ea(0xd3)],_0xd9bd7e)||mel_metapage[_0x4ec4ea(0xc2)][_0x4ec4ea(0x9d)](_0x42444c[_0x4ec4ea(0x129)],_0x42444c[_0x4ec4ea(0xd3)],_0x4b22a0))[_0x4ec4ea(0xad)](),_0x2b19ed;}catch(_0x1d3894){console[_0x4ec4ea(0xc4)](_0x1d3894),rcmail[_0x4ec4ea(0x137)]('Une\x20erreur\x20est\x20survenue\x20lors\x20de\x20la\x20synchronisation.',_0x4ec4ea(0xc4));}},'error':function(_0x48ba6f,_0x2f0eb7,_0x5b5713){const _0x9b90bc=_0x427632;console['error'](_0x48ba6f,_0x2f0eb7,_0x5b5713),rcmail['display_message'](_0x9b90bc(0xf1),_0x9b90bc(0xc4));}});},'check_if_calendar_valid'(_0x31f483,_0x2e2bbf,_0x1d1d94=!![]){const _0x525627=_0x28b9ae;if(mceToRcId(rcmail[_0x525627(0x14a)][_0x525627(0x119)])!==_0x31f483[_0x525627(0xb0)])return![];else{if(_0x31f483[_0x525627(0xfb)]!==undefined&&_0x1d1d94)for(let _0x326216=0x0;_0x326216<_0x2e2bbf[_0x525627(0x99)];_0x326216++){const _0x314068=_0x2e2bbf[_0x326216];if(_0x314068['uid']===_0x31f483[_0x525627(0x12d)]&&_0x314068['_instance']===undefined)return _0x314068;}}return!![];},'check_if_date_is_okay'(_0x478ad9,_0x559762,_0xaee67c){const _0x962578=_0x28b9ae;if(typeof _0x478ad9===_0x962578(0x132))_0x478ad9=moment(_0x478ad9)[_0x962578(0xf2)](_0x962578(0x139));if(typeof _0x559762===_0x962578(0x132))_0x559762=moment(_0x559762)[_0x962578(0xea)]('day');if(typeof _0xaee67c==='string')_0xaee67c=moment(_0xaee67c);startDate=moment(_0xaee67c)[_0x962578(0xf2)](_0x962578(0x139)),endDate=moment(_0xaee67c)[_0x962578(0xea)](_0x962578(0x139));if(startDate<=_0x478ad9&&_0x478ad9<=endDate)return!![];else{if(startDate<=_0x559762&&_0x559762<=endDate)return!![];else{if(_0x478ad9<=startDate&&startDate<=_0x559762&&_0x478ad9<=endDate&&endDate<=_0x559762)return!![];else return![];}}},'url'(_0x21d640,_0x53b5d8='',_0x3cb2a9=null){const _0x3f01fd=_0x28b9ae;let _0x5d4c3e=_0x21d640;if(_0x53b5d8!==null&&_0x53b5d8!==undefined&&_0x53b5d8!=='')_0x5d4c3e+='&_action='+_0x53b5d8;if(window[_0x3f01fd(0xb6)][_0x3f01fd(0x146)]['includes'](rcmail[_0x3f01fd(0x14a)]['mel_metapage_const']['key']+'='+rcmail[_0x3f01fd(0x14a)][_0x3f01fd(0xef)][_0x3f01fd(0x11f)])||window!==parent){if(_0x3cb2a9===null||_0x3cb2a9===undefined)_0x3cb2a9={},_0x3cb2a9[rcmail[_0x3f01fd(0x14a)][_0x3f01fd(0xef)][_0x3f01fd(0x102)]]=rcmail[_0x3f01fd(0x14a)][_0x3f01fd(0xef)][_0x3f01fd(0x11f)];else{if(_0x3cb2a9[rcmail['env'][_0x3f01fd(0xef)]['key']]===undefined)_0x3cb2a9[rcmail['env']['mel_metapage_const'][_0x3f01fd(0x102)]]=rcmail[_0x3f01fd(0x14a)]['mel_metapage_const'][_0x3f01fd(0x11f)];}}if(_0x3cb2a9!==null)for(const _0x4ea4cf in _0x3cb2a9){if(Object['hasOwnProperty'][_0x3f01fd(0xe3)](_0x3cb2a9,_0x4ea4cf)){const _0x46e17d=_0x3cb2a9[_0x4ea4cf];_0x5d4c3e+='&'+_0x4ea4cf+'='+_0x46e17d;}}return rcmail['get_task_url'](_0x5d4c3e,window[_0x3f01fd(0xb6)][_0x3f01fd(0xbf)]+window[_0x3f01fd(0xb6)]['pathname']);},'public_url'(_0x468ce7,_0x332c8c=null){const _0x226ef1=_0x28b9ae;let _0x148bea=window[_0x226ef1(0xb6)][_0x226ef1(0xbf)]+window[_0x226ef1(0xb6)][_0x226ef1(0xaa)]+(window[_0x226ef1(0xb6)][_0x226ef1(0xaa)][window[_0x226ef1(0xb6)]['pathname'][_0x226ef1(0x99)]-0x1]==='/'?'':'/')+_0x226ef1(0xfe)+_0x468ce7;if(_0x332c8c!==null)for(const _0x4866bb in _0x332c8c){if(Object[_0x226ef1(0xd0)][_0x226ef1(0xe3)](_0x332c8c,_0x4866bb)){const _0x2a32aa=_0x332c8c[_0x4866bb];_0x148bea+=(_0x148bea[_0x226ef1(0xdf)]('?')?'&':'?')+_0x4866bb+'='+_0x2a32aa;}}return _0x148bea;},async 'change_frame'(_0x432faa,_0x3fe84a=!![],_0x111366=![],_0x48fa11=null,_0x12f0ac=[]){const _0x1fc8f6=_0x28b9ae;if(_0x432faa===_0x1fc8f6(0xe0)){var _0x5cf0a3=_0x3fe84a;_0x3fe84a=![];}if(_0x111366)mel_metapage[_0x1fc8f6(0xd2)][_0x1fc8f6(0xdc)](mel_metapage['Storage']['wait_frame_loading'],mel_metapage[_0x1fc8f6(0xd2)][_0x1fc8f6(0xc7)]);return top['mm_st_OpenOrCreateFrame'](_0x432faa,_0x3fe84a,_0x48fa11,_0x12f0ac),_0x111366&&(await wait(()=>mel_metapage[_0x1fc8f6(0xd2)][_0x1fc8f6(0x101)](mel_metapage['Storage'][_0x1fc8f6(0xbd)])!==mel_metapage[_0x1fc8f6(0xd2)][_0x1fc8f6(0xfc)]),mel_metapage[_0x1fc8f6(0xd2)][_0x1fc8f6(0x114)](mel_metapage['Storage'][_0x1fc8f6(0xbd)])),_0x432faa===_0x1fc8f6(0xe0)&&(_0x5cf0a3&&top[_0x1fc8f6(0x124)](_0x432faa,_0x5cf0a3,_0x48fa11,_0x12f0ac)),this;},async 'change_page'(_0x303658,_0xacabc2=null,_0x264144={},_0x2aa2b9=!![]){const _0x3ec3b3=_0x28b9ae;let _0x555f66,_0x339c39;if(window!==parent)return await parent[_0x3ec3b3(0xd7)][_0x3ec3b3(0xc2)][_0x3ec3b3(0x130)](_0x303658,_0xacabc2,_0x264144);_0x555f66=mm_st_ClassContract(_0x303658);if(_0xacabc2!==null)_0x264144[_0x3ec3b3(0x10e)]=_0xacabc2;_0x339c39=$(_0x3ec3b3(0xcc)+_0x303658+_0x3ec3b3(0x98));if(_0x2aa2b9){if(_0x339c39[_0x3ec3b3(0x99)]>0x0){_0x264144[rcmail['env'][_0x3ec3b3(0xef)][_0x3ec3b3(0x102)]]=rcmail[_0x3ec3b3(0x14a)][_0x3ec3b3(0xef)][_0x3ec3b3(0x11f)],_0xacabc2=mel_metapage[_0x3ec3b3(0xc2)][_0x3ec3b3(0x13a)](_0x303658,null,_0x264144);try{if(_0x339c39[0x0][_0x3ec3b3(0x10b)]['location'][_0x3ec3b3(0x146)]!==_0xacabc2)_0x339c39[0x0]['src']=_0xacabc2;}catch(_0x14346c){}}else{if($('.'+_0x303658+'-frame')[_0x3ec3b3(0x99)]>0x0){_0xacabc2=mel_metapage[_0x3ec3b3(0xc2)]['url'](_0x303658,null,_0x264144);if(window[_0x3ec3b3(0xb6)][_0x3ec3b3(0x146)]!==_0xacabc2)$('.'+_0x303658+_0x3ec3b3(0x98))[_0x3ec3b3(0x114)]();}}}await this[_0x3ec3b3(0x117)](_0x555f66,!![],!![],_0x264144);},'open_chat'(_0x104511=null){const _0x3a69a8=_0x28b9ae;return mel_metapage[_0x3a69a8(0xc2)][_0x3a69a8(0x117)]('rocket',!![],!![])[_0x3a69a8(0x128)](()=>{const _0x4cfd17=_0x3a69a8;if(_0x104511!==null&&_0x104511!==undefined){if(_0x104511[0x0]!=='/')_0x104511='/'+_0x104511;parent['$']('.discussion-frame')[0x0][_0x4cfd17(0x10b)]['postMessage']({'externalCommand':'go','path':_0x104511},'*');}});},'update_frame'(_0x1618ce){return this['call']('reload_frame',![],{'_integrated':!![],'always':!![],'args':[_0x1618ce+'-frame']}),this;},async 'frame_back'(_0x3d835b=!![],_0x1e371f=null){const _0x27af7b=_0x28b9ae;let _0x1ff2df=await this[_0x27af7b(0x149)](_0x27af7b(0x125));if(_0x1ff2df===null||_0x1ff2df===undefined||_0x1ff2df===mel_metapage['Storage'][_0x27af7b(0xcf)]){if(_0x1e371f!==null)_0x1ff2df=_0x1e371f;else return;}return await this[_0x27af7b(0x117)](_0x1ff2df,!![],_0x3d835b);},'call'(_0x5e6ddc,_0x4c535b=![],_0x2104fd={}){const _0x1fdbac=_0x28b9ae;if(typeof _0x5e6ddc!==_0x1fdbac(0x132)){const _0xc61cfb=JSON[_0x1fdbac(0x143)](_0x5e6ddc);if(_0xc61cfb===undefined){if(typeof _0x5e6ddc===_0x1fdbac(0x11d))_0x5e6ddc='('+_0x5e6ddc[_0x1fdbac(0x9e)]()+')()';else _0x5e6ddc=_0x5e6ddc[_0x1fdbac(0x9e)]();}else _0x5e6ddc=_0xc61cfb;}let _0x258a9f={'exec':_0x5e6ddc,'child':_0x4c535b};if(_0x2104fd!=null&&_0x2104fd!==undefined)for(const _0xd93ee4 in _0x2104fd){if(Object[_0x1fdbac(0xd0)][_0x1fdbac(0xe3)](_0x2104fd,_0xd93ee4)){const _0x21b4a6=_0x2104fd[_0xd93ee4];_0x258a9f[_0xd93ee4]=_0x21b4a6;}}if(window[_0x1fdbac(0x95)]!==undefined&&window['workspaces'][_0x1fdbac(0xd9)]!==undefined)workspaces[_0x1fdbac(0xd9)][_0x1fdbac(0x103)](_0x258a9f);else parent[_0x1fdbac(0x133)](_0x258a9f);return this;},async 'callAsync'(_0x23ee07,_0x1a321b=![],_0x59d23f={}){const _0x27913b=_0x28b9ae;return mel_metapage[_0x27913b(0xd2)][_0x27913b(0xdc)](mel_metapage[_0x27913b(0xd2)][_0x27913b(0xa2)],mel_metapage[_0x27913b(0xd2)][_0x27913b(0xc7)]),this['call'](_0x23ee07,_0x1a321b,_0x59d23f),await wait(()=>{const _0x3d6968=_0x27913b;return mel_metapage[_0x3d6968(0xd2)]['get'](mel_metapage[_0x3d6968(0xd2)][_0x3d6968(0xa2)])===mel_metapage[_0x3d6968(0xd2)][_0x3d6968(0xc7)];}),this;},'title'(_0x39f7e2){const _0x35aa17=_0x28b9ae;return mel_metapage[_0x35aa17(0xc2)][_0x35aa17(0xe3)](_0x35aa17(0x108)+_0x39f7e2+'\x27)'),this;},'busy'(_0x39d077=!![]){const _0x2c8d12=_0x28b9ae,_0x2e6116=window!==parent;mel_metapage['Storage']['set'](_0x2c8d12(0x14e),_0x39d077);if(_0x39d077){this[_0x2c8d12(0xe3)](_0x2c8d12(0x12f));if(_0x2e6116)rcmail[_0x2c8d12(0x14c)](!![],'loading');}else this[_0x2c8d12(0xe3)](_0x2c8d12(0x142)),_0x2e6116&&(rcmail[_0x2c8d12(0x14c)](![]),rcmail[_0x2c8d12(0xaf)]());return this;},'is_busy'(){const _0x1e61e7=_0x28b9ae,_0x56fd6a=window!==parent&&rcmail[_0x1e61e7(0x100)]!=undefined;if(_0x56fd6a)return mel_metapage[_0x1e61e7(0xd2)][_0x1e61e7(0x101)](_0x1e61e7(0x14e))===!![]||rcmail[_0x1e61e7(0x100)];else{if(rcmail[_0x1e61e7(0x100)]===undefined)return mel_metapage['Storage']['get']('mel.busy')===!![];else return rcmail[_0x1e61e7(0x100)]||mel_metapage['Storage'][_0x1e61e7(0x101)](_0x1e61e7(0x14e))===!![];}},async 'ask'(_0xfe2cc9){const _0x16d306=_0x28b9ae;return this[_0x16d306(0xe3)](_0x16d306(0xa8)+_0xfe2cc9+')'),await wait(()=>mel_metapage[_0x16d306(0xd2)][_0x16d306(0x101)](_0x16d306(0x116))===null),_0xfe2cc9=mel_metapage[_0x16d306(0xd2)][_0x16d306(0x101)](_0x16d306(0x116)),mel_metapage[_0x16d306(0xd2)][_0x16d306(0x114)](_0x16d306(0x116)),_0xfe2cc9;},'updateRichText'(_0x3e2e5e){const _0x43ad5e=_0x28b9ae;return _0x3e2e5e[_0x43ad5e(0xb7)](/</g,'&lt;');},'webconf_url'(_0x5ee46a){const _0x454258=_0x28b9ae;let _0x1a6372=_0x5ee46a[_0x454258(0xba)]();if(_0x1a6372['includes'](rcmail['env']['webconf.base_url'][_0x454258(0xba)]()))return _0x1a6372=_0x1a6372[_0x454258(0xe5)]('/'),_0x1a6372=_0x1a6372[_0x1a6372['length']-0x1],_0x1a6372[_0x454258(0xba)]();else{if(_0x1a6372[_0x454258(0xdf)]('PUBLIC/WEBCONF'))return _0x1a6372['split'](_0x454258(0x118))[0x1][_0x454258(0xe5)]('&')[0x0];}return null;},'_shuffle'(_0x4b4a69){const _0x2cb71a=_0x28b9ae;var _0x11be5c=_0x4b4a69[_0x2cb71a(0x99)],_0x4267e8,_0x3a1c51;while(0x0!==_0x11be5c){_0x3a1c51=Math[_0x2cb71a(0x9b)](Math[_0x2cb71a(0x13f)]()*_0x11be5c),_0x11be5c-=0x1,_0x4267e8=_0x4b4a69[_0x11be5c],_0x4b4a69[_0x11be5c]=_0x4b4a69[_0x3a1c51],_0x4b4a69[_0x3a1c51]=_0x4267e8;}return _0x4b4a69;},'generateWebconfRoomName'(){const _0x223fd4=_0x28b9ae;var _0xe13d9f=['A','B','C','D','E','F','G','H','I','J','K','L','M','N','O','P','Q','R','S','T','U','V','W','X','Y','Z'],_0x55607d=['0','1','2','3','4','5','6','7','8','9'],_0x583f52=this['_shuffle'](_0x55607d)[_0x223fd4(0x13c)]('')['substring'](0x0,0x3)+this[_0x223fd4(0xce)](_0xe13d9f)['join']('')[_0x223fd4(0xa7)](0x0,0x7);return this[_0x223fd4(0xce)](_0x583f52[_0x223fd4(0xe5)](''))[_0x223fd4(0x13c)]('');},'ajax'(_0x342370,_0x573242=mel_metapage[_0x28b9ae(0xe4)]['null'],_0x1e2ae4=_0x302b1f=>{},_0xb6ebc1=(_0x3a9013,_0x56d8f3,_0x34b809)=>{const _0x528256=_0x28b9ae;console[_0x528256(0xc4)](_0x3a9013,_0x56d8f3,_0x34b809);},_0x526e5b='POST'){const _0x417115=_0x28b9ae;let _0x4576bf={'type':_0x526e5b,'url':_0x342370,'success':_0x1e2ae4,'error':_0xb6ebc1};if(_0x573242!==mel_metapage['Symbols'][_0x417115(0x9c)])_0x4576bf['data']=_0x573242;return $[_0x417115(0xab)](_0x4576bf);},'get'(_0x21bea3,_0x39a3c7={},_0x3372fa=_0x1b9c24=>{},_0x88c8a7=(_0x587461,_0x45bffc,_0x32ea01)=>{const _0xeda818=_0x28b9ae;console[_0xeda818(0xc4)](_0x587461,_0x45bffc,_0x32ea01);}){const _0x4617f2=_0x28b9ae;for(const _0x112f12 in _0x39a3c7){if(Object[_0x4617f2(0xd0)][_0x4617f2(0xe3)](_0x39a3c7,_0x112f12)){const _0x236b8a=_0x39a3c7[_0x112f12];_0x21bea3+=''+(_0x21bea3[_0x4617f2(0xdf)]('?')?'&':'?')+_0x112f12+'='+encodeURIComponent(_0x236b8a);}}return this[_0x4617f2(0xab)](_0x21bea3,mel_metapage[_0x4617f2(0xe4)][_0x4617f2(0x9c)],_0x3372fa,_0x88c8a7,'GET');},'post'(_0x4b694b,_0x54f215=mel_metapage[_0x28b9ae(0xe4)][_0x28b9ae(0x9c)],_0x4fb57f=_0x88c7ba=>{},_0x35828e=(_0x2213bd,_0x4fd889,_0x373f26)=>{console['error'](_0x2213bd,_0x4fd889,_0x373f26);}){const _0x347248=_0x28b9ae;return this[_0x347248(0xab)](_0x4b694b,_0x54f215,_0x4fb57f,_0x35828e);},'update':{'calendar'(){const _0xf43b93=_0x28b9ae;return mel_metapage[_0xf43b93(0xc2)][_0xf43b93(0xe3)](_0xf43b93(0x105)),this;}},'handlerExist'(_0x43f1a2,_0x1644be,_0xc3de62=_0x28b9ae(0xf4)){const _0x29248b=_0x28b9ae;if(_0x43f1a2[_0x29248b(0xd6)]!==undefined)_0x43f1a2=_0x43f1a2[0x0];return Enumerable[_0x29248b(0x10f)](jQuery[_0x29248b(0xde)](_0x43f1a2,_0x29248b(0xec))[_0xc3de62])[_0x29248b(0xb8)](_0xa34895=>_0xa34895[_0x29248b(0x12a)]+''===_0x1644be+'')[_0x29248b(0xa9)]();},'stockage':{'go'(_0x1812a4,_0x56ea8b=null,_0x31f8ec=null){const _0x2e9b9e=_0x28b9ae;let _0x36bb10=_0x2e9b9e(0xe8),_0x4635f5=_0x2e9b9e(0xf6)+JSON['stringify'](_0x1812a4)+',\x20'+_0x56ea8b+')',_0x469a51='';return _0x31f8ec!==null&&(_0x469a51=_0x2e9b9e(0x112)+(_0x31f8ec+'')+_0x2e9b9e(0xae)),mel_metapage[_0x2e9b9e(0xc2)][_0x2e9b9e(0xe3)](_0x36bb10+_0x4635f5+_0x469a51);}},async 'searchOnMail'(_0x5058a9,_0xcf770a,_0x2582ea=![]){const _0x298162=_0x28b9ae;if(parent===window){if(_0x2582ea)await mel_metapage['Functions'][_0x298162(0x117)]('mail',!![],!![]);if($(_0x298162(0xb3))[_0x298162(0x99)]>0x0)$(_0x298162(0xb3))[0x0][_0x298162(0x10b)][_0x298162(0x133)]({'exec':_0x298162(0x111),'_integrated':!![],'child':![],'args':[_0x5058a9,_0xcf770a]});else search_action(_0x5058a9,_0xcf770a);}else mel_metapage[_0x298162(0xc2)]['call'](_0x298162(0xf7)+_0x5058a9+_0x298162(0x10a)+JSON[_0x298162(0x143)](_0xcf770a)+',\x20'+_0x2582ea+')');return this;},'doActionFrame'(_0x4dbd23,_0xab5f15,..._0x186471){const _0x4705a8=_0x28b9ae;if(parent!==window)mel_metapage[_0x4705a8(0xc2)][_0x4705a8(0xe3)](_0x4705a8(0x120),![],{'_integrated':!![],'always':!![],'args':[_0x4dbd23,_0xab5f15+'',..._0x186471]});else{typeof _0xab5f15===_0x4705a8(0x132)&&(_0xab5f15=new Function('return\x20('+_0xab5f15+')(...arguments)'));if($('.'+_0x4dbd23+_0x4705a8(0x98))['length']===0x0)_0xab5f15(0x0,..._0x186471);else{if($(_0x4705a8(0xcc)+_0x4dbd23+'-frame')[_0x4705a8(0x99)]>0x0)_0xab5f15(0x1,..._0x186471);else _0xab5f15(0x2,..._0x186471);}}return this;},'update_refresh_thing'(){const _0xd51385=_0x28b9ae;let _0x2e4ad5=top['$']('.refresh-current-thing'),_0x2ecaea=window[_0xd51385(0xbb)]['already']()||top['rcmail'][_0xd51385(0x14a)]['current_frame_name']===_0xd51385(0xe0);if(_0x2ecaea===!![])_0x2e4ad5[_0xd51385(0xcb)](_0xd51385(0x134))[_0xd51385(0x138)](_0xd51385(0x134),_0xd51385(0x134));else _0x2e4ad5[_0xd51385(0x13b)](_0xd51385(0x134))['removeAttr'](_0xd51385(0x134));return this;},async 'change_frame_nextcloud'(_0x1f0903=null){const _0x3ea5da=_0x28b9ae,_0x5daba9=_0x3ea5da(0xe7),_0x3ab5b6=_0x1f0903['id']===undefined&&_0x1f0903[_0x3ea5da(0xdf)](_0x5daba9)?_0x5daba9:'';let _0x7f9249=_0x3ab5b6+(_0x1f0903??''),_0xfcdda=null;if(_0x1f0903!==null){if(_0x1f0903['id']!==undefined)_0x7f9249=_0x3ab5b6+'?dir='+_0x1f0903['path']+_0x3ea5da(0x96)+_0x1f0903['id'];_0xfcdda={'_params':urlencode(_0x7f9249)};}const _0x2e3bea=''+rcmail[_0x3ea5da(0x14a)]['nextcloud_url']+(_0x7f9249??'');if(parent['$']('iframe.stockage-frame')[_0x3ea5da(0x99)]>0x0)parent['$'](_0x3ea5da(0xa4))[0x0][_0x3ea5da(0x10b)]['$'](_0x3ea5da(0x12c))[0x0][_0x3ea5da(0xbc)]=_0x2e3bea;return await this[_0x3ea5da(0x117)]('stockage',!![],!![],_0xfcdda),parent['$']('iframe.stockage-frame')[0x0]['contentWindow'][_0x3ea5da(0xff)][_0x3ea5da(0x14a)][_0x3ea5da(0xfa)]=_0x2e3bea,this;}}};window[_0x28b9ae(0xd7)]=mel_metapage;