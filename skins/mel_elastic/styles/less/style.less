//compress:false
@import "main.less";
@import "style_mixin.less";
/** BODY **/

body{
    .restore-font();
    color:var(--main-text-color);
    
    &>#layout {
        &>div.sidebar{

            ul{
                .treelist{
                    li.context-source:not(.selected){
                        &>a{
                            background-color: var(--secondary-bckg-color) !important;
                        }

                        &>div{
                            &>a{
                                background-color: var(--secondary-bckg-color) !important;
                            }
                        }
                    }
                }
            }

            .listing{
                tbody{
                    tr.context-source:not(.selected) > td{
                        background-color: var(--secondary-bckg-color) !important;
                    }
                }

                &:not(.treelist){
                    li.context-source:not(.selected){
                        background-color: var(--secondary-bckg-color) !important;
                    }
                }
            }
        }
    }
}

/** PRINCIPAL **/

button,
input,
optgroup,
select,
textarea,
.popover {
    .restore-font();
}

a, 
.falselink{
    color:var(--main-link-color);

    &:hover{
        color:var(--main-link-hover-color)
    }
}

p,
span,
div {
    scrollbar-width: var(--scrollbar-width-moz)!important;
    scrollbar-color: var(--scrollbar-handler-color) var(--scrollbar-background-color);

    &.more-width{
        scrollbar-width: var(--scrollbar-width-hover-moz)!important;
    }
}


main {
	display: flex;
	height: 100%;
	width: 100%;
}

/* width */
::-webkit-scrollbar {
    width: var(--scrollbar-width-webkit)!important;
    .more-width&{
        width: var(--scrollbar-width-hover-webkit)!important;
    }

    /* Track */
    &-track {
        background: var(--scrollbar-background-color);
        border-radius: var(--scollbar-border-radius);
    }

    /* Handle */
    &-thumb {
        background: var(--scrollbar-handler-color);
        border-radius: var(--scollbar-border-radius);

        &:hover{
            background: var(--scrollbar-handler-hover-color);
        }
    }
}


/** LAYOUT **/

#layout-sidebar{
    .mel-no-border();
    .mel-layout-sidebar-colors()!important;
    
    &>.header{
        /** HEADER **/
        .mel-layout-sidebar-colors()!important;
    }

    .ui-datepicker{
        &.ui-widget-content{
            .ui-state-default{
                /** CALENDRIER **/
                color: var(--secondary-text-color);
            }
        }

        .ui-state-default{
            /** CALENDRIER **/
            color: var(--secondary-text-color);
        }
    }


}

#layout-list {
    .mel-no-border();
    .mel-layout-list-colors()!important;

    &>.header{
        /** HEADER **/
        .mel-layout-list-colors()!important;
    }
}

#layout {
    &>div{
        &>.header{
            .mel-no-border();

            a.button{
                color:var(--secondary-text-color);
            }
        }
    }

    .header{
        /** HEADER **/
        a{
            &.button, 
            &.options,
            &.select,
            &.threads{
                color:var(--secondary-text-color);
            }
            
        }
    }

    #layout-content {
        &>.header{
            a{
                &.button{
                    color: var(--secondary-text-color);

                    .task-addressbook &,
                    .task-tasks &,
                    .task-settings &{
                        --secondary-text-color: var(--main-text-color);
                    }
                }
            }

            .header-title{
                color: var(--secondary-text-color);

                .task-addressbook &,
                .task-tasks &,
                .task-settings &{
                    --secondary-text-color: var(--main-text-color);
                }
            }
        }

        html@{layout-phone} &,
        html@{layout-small} &{
            &.only-content{
                padding: 0 15px;
            }
        }
    }
}

.layout-hidden{
    display: none!important;
}

html {
    &@{layout-normal}{
        .show-normal{
            &.layout-hidden{
                display: none!important;
            }
        }
    }
}

/** HEADER **/

.header{
    a.button.icon:not(.disabled):hover{
        .mel-tiercary-colors();
    }

    a.toolbar-button.button.icon:not(.disabled):hover,
    a.toolbar-button:hover
    {
        .mel-secondary-colors-important();
    }
}

/** MENU **/

.menu {

    &.pagenav{
        &.pagenav-list{
            &+.navlist{
                background-color: var(--main-bckg-color);
            }

            body.task-tasks &{
                a{
                    color:var(--secondary-text-color);
                }

                .pagenav-text{
                    color:var(--secondary-text-color);
                }
            }
        }
    }

    a:not(.disabled):focus,
    a:not(.disabled):hover
    {
        .mel-secondary-colors-important();
    }

    a {
        /** ICONS **/
        &.icofont-plus-circle:before{
            content: "\efc0"!important;
            font-family: var(--secondary-icon-font)!important;
        }
        &.icofont-question-circle:before
        {
            content: "\efca"!important;
            font-family: var(--secondary-icon-font)!important;
        }

        &.icofont-favourite:before
        {
            content: "\ef25"!important;
            font-family: var(--secondary-icon-font)!important;
        }

        &.icofont-search:before
        {
            content: "\ed1b"!important;
            font-family: var(--secondary-icon-font)!important;
        }
    }

    .responses {
        display: none!important;
    }

}

#toolbar-menu {
    a{
        &.icon-mel-undo{
            &::before{
                content: "\e936" !important;
                font-family: var(--main-icon-font) !important;
            }
        }
    }
}

/** LISTES **/

ul.treelist{
    li {
        &.selected{
            &>div{
                &>a{
                    .mel-tiercary-colors();
                }
            }

            &>a{
                .mel-tiercary-colors();
            }
        }

        &.context-source:not(.selected){
            &>a{
                color:var(--alternate-text-color);
                background-color: var(--secondary-bckg-color) !important;
            }

            &>div{
                &>a{
                    background-color: var(--secondary-bckg-color) !important;
                }
            }
        }

        &.droptarget{
            &>a{
                background-color: var(--drag-n-drop-color);
            }
        }
    }

    .task-addressbook &{
        &.iconized{
            li{
                div{
                    &.treetoggle{
                        top: 0px!important;
                    }
                }
            }
        }
    }
}

.mel-selectable{
    cursor: pointer;

    &:hover{
        background-color: var(--tierciary-bckg-color);
        color: var(--secondary-text-color);
    }

    &.selected{
        background-color: var(--main-bckg-color);
        color: var(--secondary-text-color);
    }

    &.with-separator{
        border-bottom: solid thin #A3A7BC;
    }
}

.popupmenu{
    .listing{
        li{
            &.selected{
                .mel-secondary-colors();
            }
        }
    }
}

.listing{

    &:not(.treelist){
        li {
            &.context-source{
                &:not(.selected){
                    background-color: var(--secondary-bckg-color) !important;  
                }
            }
        }
    }

    .scroller>&{
        li {
            a{
                color:var(--secondary-text-color);
            }
        }
    }

    ul&{
        li{
            ul {
                border-top: none;
            }
        }
    }

    li{
        border: none;
        &.selected{
            .mel-secondary-colors();

            &>div{
                &>*{
                    /** CALENDRIER **/
                    background-color: var(--tierciary-bckg-color) !important;
                    border: none !important;
                }
            }
        }

        &>div{

            &.calendar{
                .calname{
                    &::before{
                        /** CALENDRIER **/
                        opacity: 0.7;
                    }
                }
            }

            &.tasklist{
                .listname{
                    &::before{
                        content: "\e932"!important;
                        font-family: var(--main-icon-font)!important;
                    }
                }

                &.readonly{
                    .listname{
                        &::before{
                            content: "\e966"!important;
                            font-family: var(--main-icon-font)!important;
                        }

                        &::after{
                            display: none;
                        }
                    }
                }
            }

            &.readonly{
                a{
                    &:first-child{
                        &::after{
                            /** CALENDRIER **/
                            font-size: .8em !important;
                            .mel-invisible-background();
                            color: var(--fourth-text-color) !important;
                        }
                    }
                }
            }

            a{
                &.quickview{
                    &::before{
                        /** CALENDRIER **/
                        color: var(--fourth-text-color) !important;
                    }
                }
            }

            body.task-tasks &{
                &>a{
                    &:first-child{
                        cursor: pointer;
                    }
                }
            }
        }

        &.readonly:not(.virtual)
        {
            &>div{
                a{
                    &:first-child{
                        a::after{
                            /** CALENDRIER **/
                            font-size: .8em !important;
                            .mel-invisible-background();
                            color: var(--fourth-text-color) !important;
                        }
                    }
                }
            }
        }

        &:hover{
            body.task-tasks &{
                &>div{
                    &>a{
                        &:first-child{
                            &:hover{
                                background-color: var(--tierciary-bckg-color) !important;
                                border-top-right-radius: 15px;
                                border-bottom-right-radius: 15px;
                            }
                        }
                    }
                }
            }

        }

        &.disabled{
            color:var(--disabled-text-color-listing);
        }

        

    }

    tr{
        &.selected{
            td{
                .mel-secondary-colors();
            }
        }

        &.disabled{
            td{
                color:var(--disabled-text-color-listing);
            }
        }
    }

    tbody{
        tr{
            &.context-source:not(.selected){
                &>td{
                    background-color: var(--secondary-bckg-color) !important;
                }
            }
        }

        td{
            color:var(--secondary-text-color);
            border: none;

            a{
                color:var(--secondary-text-color);
            }
        }
    }

    table&{
        td{
            &.subscribed{
                width: 30px;
                padding: 3px 12px 3px 3px;
                text-align: right;
            }
        }
    }


}

/* EXCEPTIONS */
body.task-tasks .listing li.selected:hover > div > a:first-child:hover {
    background-color: var(--tierciary-bckg-color) !important;
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}
/* FIN EXCEPTION */

.listing-info {
    color:var(--secondary-text-color);
}

li {
    &#settingstabpluginmel_doubleauth{
        &>a{
            &::before{
                content: var(--empty-content);
            }
        }
    }

    &#settingstabpluginmel_suggestion_box{
        &>a{
            &::before{
                content: var(--empty-content);
            }
        }
    }

    &.mel{
        &>a{
            &::before{
                content: var(--empty-content);
            }
        }
    }
}

.mel-list
{
    background-color:var(--main-bckg-color);

    li {
        .mel-invisible-background-unimportant();
        color: var(--secondary-text-color);
        padding: 0 1.25rem;

        &.selected{
            background-color: var(--tierciary-bckg-color)!important;
        }

        .mel-text {
            margin-left: 15px;
            width: 100%;
            display: inline-block;
            padding: .75rem 0;
        }

        .mel-item-icon{
            position: absolute;
            top: 14px;
            left: 10px;
        }
    }

    .mel-list-item{
        &.mel-item-7{
            background-color: var(--main-bckg-color);
        }

        &:hover{
            background-color: var(--document-create-list-folder-bckg-color);
        }
    }

    &.mel-tree{
        .mel-list-item{
            &:hover{
                &>.mel-text
                {
                    text-decoration: underline;
                }
            }
        }
    }

}

/** AUTRE **/

a.button.icon:not(.disabled):focus{
    .mel-tiercary-colors();
}

.mel-animated
{
    .mel-all-ease-in-animation();
}

.hidden-item-mt {
	width: 0;
}

#menu-gu-black
{
    width: 100%;
    height: 100%;
    background-color: var(--ghost-div-background);
    z-index: 1;
    position: absolute;
    top: 0;
    left: 0;
}

/** MESSAGES **/

#message-header{
    .short-header {
        display: flex;

        img.contactphoto {
            margin: 0 1rem 0 0;
            border-radius: 50%;
            width: 4rem;
            height: 4rem;
            object-fit: cover;
        }
    }
}

.messagelist{
    tr{
        &:hover{
            span{
                &.unflagged{
                    &::before{
                        font-size: 90%;
                    }
                }
            }
        }
    }

    td {
        &.subject{
            flex-wrap: wrap;

            span{
                line-height: 1.8em;

                &.date{
                    font-size: 85%;
                    padding-top: 4px;
                }
            }

        }

        &.labels{
            flex-basis: 100%;
            border: none!important;
        }
    }

    span{
        &.attachment{
            span{
                &::before{
                    font-size: 80%;
                    color:var(--other-text-color);
                }

                &.flagged{
                    &::before{
                        font-size: 90%;
                    }
                }
            }
        }
    }
}

.folderlist{

    ul&{
        &.treelist{
            li {
                ul {
                    li /*1*/ { 
                        a {
                            padding-left: 1.5em;
                        }

                        div {
                            &.treetoggle{
                                left: 0;
                            }
                        }

                        li /*2*/ { 
                            a{
                                padding-left: 3em;
                            }

                            div {
                                &.treetoggle{
                                    left: 1.5em;
                                }
                            }

                            li /*3*/ {
                                a{
                                    padding-left: 4.5em;
                                }

                                div {
                                    &.treetoggle{
                                        left: 3em;
                                    }
                                }

                                li /*4*/ {
                                    a{
                                        padding-left: 6em;
                                    }
    
                                    div {
                                        &.treetoggle{
                                            left: 4.5em;
                                        }
                                    }

                                    li /*5*/ {
                                        a{
                                            padding-left: 7.5em;
                                        }
        
                                        div {
                                            &.treetoggle{
                                                left: 6em;
                                            }
                                        }   
                                    }
                                }

                            }
                        }
                    }
                }
            }
        }
    }

    li{
        &.mailbox{
            .unreadcount {
                background: var(--roundbadge-bckg-color);
                color: var(--tierciary-text-color);
                font-size: 0.9rem;
                border-radius: 5rem;
            }
        }

        &.boite{
            &>a{
                &::before{
                    content: "\f01c";
                    font-weight: 900;
                }
            }
        }
    }
}

/* JOKER */
.listing li > a.virtual.boite,
.listing li.virtual.boite > a,
.listing li > a.virtual.inbox,
.listing li.virtual.inbox > a,
.listing li > a.virtual.drafts,
.listing li.virtual.drafts > a,
.listing li > a.virtual.models,
.listing li.virtual.models > a,
.listing li > a.virtual.sent,
.listing li.virtual.sent > a,
.listing li > a.virtual.junk,
.listing li.virtual.junk > a,
.listing li > a.virtual.trash,
.listing li.virtual.trash > a,
.listing li > a.virtual.dossier,
.listing li.virtual.dossier > a {
    opacity: .9;
}

/*FIN JOKER*/

.task-mail{
    &.action-compose{
        #layout-sidebar
        {
            margin-left: 0px!important;

            .scroller{
                a{
                    &.button.icon.dropdown{
                        color: var(--secondary-text-color);
                        border-radius: 5px;
                        .mel-all-ease-in-animation();

                        &:hover{
                            .mel-secondary-colors();
                        }
                    }

                    &.delete{
                        color: var(--secondary-text-color);
                        border-radius: 5px;
                        .mel-all-ease-in-animation();

                        &:hover{
                            .mel-secondary-colors();
                        }
                    }
                }
            }
        }

        #files-compose-dialog{
            display: none!important;
        }

        .popup{
            #files-compose-dialog{
                display: flex!important;
            }
        }
    }

    .header{
        .attach{
            display:none;
        }
    }
}

html {
    &@{layout-normal}{
        body.task-mail{
            &.action-compose{
                #layout-sidebar{
                    display: initial !important;
                }
            }
        }
    }

    body{
        a{
            &.filename{
                .attachment-name{
                    color: black;
                }
            }
        }
    }
}

body.task-mail {
    &.action-compose{
        a.filename{
            .attachment-name{
                color: var(--secondary-text-color);
            }
        }
    }

    &.action-none{
        #layout-content {
            border-left: solid #484D7A;
        }
    }

    @media screen and (max-width: 997px){
        #layout-content{
            .header{
                .menu{
                    &.toolbar{
                        a{
                            font-size: 0.65rem;
                            line-height: 2;

                            &::before{
                                font-size: 1rem;
                            }
                        }
                    }
                }
            }
        }
    }

    html@{layout-phone} &{
        a{
            &.toolbar-list-button{
                display: inline-block!important;
            }
        }
    }

    html@{layout-small} &{
        a{
            &.toolbar-list-button{
                display: inline-block!important;
            }
        }
    }

    html@{touch} &{
        #layout-sidebar{
            max-width: 100%;
        }
    }

}

a{
    &.filename{
        &:hover{
            .attachment-name {
                text-decoration: underline;
            }
        }
    }
}

#compose-contacts {
    #annuaire-list{
        [aria-expanded="true"]{
            background-color: var(--default-background)!important;
            color:var(--alternate-text-color)!important;
        }

        html &{
            &.folder{
                color:#757575!important;
            }
        }

        .object{
            &:hover{
                background-color: var(--tierciary-bckg-color) !important;
                color:var(--secondary-text-color);
            }

            &.person{
                &.selected{
                    color:var(--secondary-text-color);
                }

                &.added{
                    background-color: var(--main-bckg-color) !important;
                    color:var(--secondary-text-color);
                }
            }
        }
    }
}

#files-folder-list {
    div&{
        ul{
            li{
                &.selected{
                    .mel-main-colors();
                }
            }
        }
    }
}

#toolbar-list-menu{
    li {
        .compose{
            display: none;

            .task-mail &{
                display: unset;
            }

        }
    }
}

#mailsearchlist{
    html@{layout-phone} &{
        a{
            &::before{
                height: auto!important;
            }
        }
    }

    html@{layout-small} &{
        a{
            &::before{
                height: auto!important;
            }
        }
    }
}

#mel-added-list-menu{
    html@{layout-phone} &{
        display: none!important;
    }

    html@{layout-small} &{
        display: none!important;
    }
}

.recipient-input{
    .recipient{
        max-width: 300px;
    }
}

#compose-content{
    html@{layout-phone} &{
        overflow-x: hidden;
    }

    html@{layout-small} &{
        overflow-x: hidden;
    }
}

#stockage-space-text{
    &::before{
        content: "\e94f";
        font-family: var(--main-icon-font);
        margin-right:5px;
    }
}

.quota-widget{
    &::before {
        display: none;
    }
}

#message-model {
	width: 100%;
	text-align: center;
	background-color: var(--alternate-bckg-color);
	padding: 5px 0;
	border-radius: 5px;
}

#abs_msg_inter{
    display: block!important;
}

/** POPUP **/

.popup {
    &>div {
        &>div {
            #directorylist{
                &>li{
                    background-color: var(--secondary-bckg-color);

                    &:hover{
                        background-color: var(--tierciary-bckg-color);
                    }

                    &>a{
                        &:hover{
                            .mel-invisible-background-unimportant();
                        }
                    }

                }
            }
        }
    }
}

.popover-overlay{
    html@{touch} &{
        z-index: 1000;
        background-color: var(--overlay-background);
        position: absolute;
        top: 0;
        bottom: 0;
        width: 100%;
    }
}

.wlp_box
{
    background-color: var(--main-bckg-color);
    border: 2px solid var(--windows-like-popup-border);
    z-index: 2;

    &.fullscreen{
        left:60px!important;
        top:60px!important;
        width: calc(100% - 60px)!important;
        height: calc(100% - 60px)!important;

        .framed &{
            left:0!important;
            width: 100%!important;
        }

        html.touch &{
            left:0!important;
            width: 100%!important;
        }

        .wlp-contents{
            height: calc(100% - 47px)!important;
        }
    }
}

.wlp-header {
	padding-left: 1rem;
	margin-top: 5px;
	border-bottom: solid thin;
    color:var(--secondary-text-color);
    border-color: var(--invisible);

    h3{
        margin-top: 5px;
        margin-bottom: 10px;
    }

    .mel-focus{
        &.focused{
            box-shadow: 0 0 0 .2rem var(--windows-like-popup-button-focus);
        }
    }

    .mel-button{
        &:focus{
            box-shadow: 0 0 0 .2rem var(--windows-like-popup-button-focus);
        }
    }
}

.wlp-contents {
    background-color: var(--default-background);
    border: solid 4px var(--windows-like-popup-border-content);
}

.wlp-minifieds
{
    position: absolute;
    bottom: 0;
    white-space: nowrap;
    overflow: auto;

    &.auto{
        left:60px;
        width: auto;

        html@{touch} &{
            left:0;
        }
    }

    .wlp-header
    {
        display: inline-block;
        margin: 0;
        padding: 5px;
        background-color: var(--main-bckg-color);
        border:solid thin var(--windows-like-popup-border-header);
    }
}

/** CALENDRIER **/
/** JOKER **/
.listing li > div.folder .listname::before,
.listing li > div span.subscribed::before,
.listing li > div.readonly a:first-child::after,
.listing li.readonly:not(.virtual) > div a:first-child::after,
.listing li > div.calendar .calname::before,
fieldset.categories .input-group a.button.create::before,
.fc button.prev::before,
.fc button.next::before,
.fc .fc-time i::before,
#eventshow .event-partstat .changersvp::before,
.availability span::before,
.calendar-scheduler .schedule-buttons .next-slot::after,
.resources-dialog .listing li.resource > a::before,
#devices-table td:not(.selection)::before,
#delegate-table td::before,
a.btn.fromcloud::before,
li > a.icon.saveas::before,
a.button.filesaveall::before,
a.button.saveas::before,
.folderlist li.mailbox a.subscription.subscribed::before,
.filelist tr.session > td.name::after,
.filelist tbody td.filename span::before,
.document-editor-header #collaborators a.button.add::before,
.editors-dialog table td.options a.delete::before,
#kolabnoteslist td.title::before,
#taglist li::before,
#tagsform option::before,
.rsvp-status.loading::before,
.rsvp-status.declined::before,
.rsvp-status.tentative::before,
.rsvp-status.accepted::before,
.rsvp-status.delegated::before,
.rsvp-status.needs-action::before,
.attendee::before,
.edit-attendees-table th.invite label::before,
#event-status-badge span::before,
#alarm-display h3::before,
#alarm-display .alarm-actions a::before,
.listing li > div.tasklist .listname::before,
#tasklist .childtoggle::before,
#tasklist .taskhead:not(.flagged):hover span.flagged::before,
#tasklist .taskhead.flagged span.flagged::before,
#taskshow.status-flagged h2::before {
    font-size: 1em !important;
}
/** FIN JOKER **/

div.calendar-invitebox{
    .rsvp-status{
        font-weight: bold;
    }
}

.calendar-datepicker{
    .ui-datepicker-header{
        background-color: var(--tierciary-bckg-color)!important;
        border: none !important;
    }

    .ui-datepicker{
        background-color: var(--tierciary-bckg-color)!important;
        border: none !important;
    }
}

body {
    &.task-calendar
    {
        .ui-datepicker-inline{
            .ui-datepicker-activerange{
                background-color: var(--main-bckg-color)!important;
            }

            .ui-datepicker-week-col{
                color: var(--calendar-week-text-color)!important;
            }
        }

        .popup{
            &.ui-dialog-content {
                #showcontacts{
                    display: none;
                }
            }
        }
    }
}

.ui-datepicker {
    &.ui-widget-content{

        a{
            &.ui-state-active{
                background-color: var(--roundbadge-bckg-color) !important;
                color: var(--calendar-highlight-text-color) !important;

                &.ui-state-highlight{
                    background-color: var(--roundbadge-bckg-color) !important;
                    color: var(--calendar-highlight-text-color) !important;
                }
            }
        }

        .ui-state-highlight{
                .mel-secondary-colors-important();
            }
        }    

    a{
        &.ui-state-active{
            &.ui-state-highlight{
                background-color: var(--roundbadge-bckg-color) !important;
                color: var(--calendar-highlight-text-color) !important;
            }
        }
    }

    th{
        padding: .7em 0 !important;
    }

    select{
        &.ui-datepicker-year{
            width: 5em !important;
            margin-left: 15px;
        }
    }

    .ui-state-highlight{
        .mel-secondary-colors-important();
    }
}

.mm-agenda-icon
{
    font-size: x-large;
    position: relative;
}

#eventshow{
    .event-attendees{
        .attendee{
            display: block;
            margin-bottom: 5px;
        }
    }
}

#datepicker-onoff
{
    color:var(--secondary-text-color)!important;

    &:hover{
        background-color: var(--alternate-bckg-color-2) !important;
    }

    &:focus{
        box-shadow: none;
    }

    html@{layout-small} &{
        display: none;
    }

    html@{layout-phone} &{
        &:extend(html.layout-small #datepicker-onoff);
    }

}

#datepicker{
    .mel-all-ease-in-animation();
}

/*** Full Calendar ***/

.fc-event {
    border-width: 1px 7px 1px 1px !important;
    font-size: 12px !important;

    &.cal-event-status-cancelled{
        color: var(--main-text-color) !important;

        div{
            text-decoration: line-through;
        }

        .fc-title{
            opacity: 1;
            text-decoration: line-through;
        }
    }

    &.cal-event-status-tentative{
        opacity: 0.5 !important;

        .fc-title{
            opacity: 1;
            font-style: italic;
        }

        .fc-time::before,
        .fc-time span{
            font-style: italic;
        }
    }

    &.cal-event-status-free{
        color: var(--main-text-color) !important;
    }

    &.cal-event-status-telework{
        color: var(--main-text-color) !important;

        .fc-title{
            font-style: italic;
        }

        .fc-time::before,
        .fc-time span{
            font-style: italic;
        }
    }

    &.cal-event-status-confirmed{
        .fc-time::before,
        .fc-time span{
            font-weight: bold;
        }
    }

    &.cal-event-partstat-declined{
        .fc-time::before,
        .fc-time span{
            opacity: 0.7;
            text-decoration: line-through;
            font-style: italic;
        }
    }

    &.cal-event-partstat-delegated{
        .fc-time::before,
        .fc-time span{
            opacity: 0.7;
            text-decoration: line-through;
            font-style: italic;
        }
    }

    &.cal-event-partstat-tentative{
        .fc-time::before,
        .fc-time span{
            font-style: italic;
        }
    }

    &.cal-event-partstat-needs-action{
        .fc-time::before,
        .fc-time span{
            font-style: italic;
        }
    }
}

html.dark-mode .fc-event.cal-event-status-cancelled,
html.dark-mode .fc-event.cal-event-status-free,
html.dark-mode .fc-event.cal-event-status-telework {
    color: #c7dfff !important;
}

.fc {
    .fc-event{
        .fc-title{
            font-weight: 400 !important;
            padding: 3px;
        }

        .fc-bg{
            opacity: 0 !important;
        }
    }
}

.fc-event-location {
	padding: 1px 3px;
}

.fc-agenda-divider-inner {
	height: 0 !important;
}

.fc-time-grid-event {
	opacity: 0.8;

    .fc-time {
        text-align: center;
    }
}

// .ui-dialog {
//     z-index: 1051!important;
// }

/******Fin cal*******/

/** MEL ADD **/

.mel-add{
    display:inline-block;
    width: 107px;
    height: 32px;
    border-radius: 50px;
    background-color: var(--main-bckg-color);
    color: var(--secondary-text-color);
    padding: 5px 10px;
    padding-top: 5px;
    padding-right: 10px;
    padding-bottom: 5px;
    padding-left: 10px;
    cursor: pointer;
    transition: all 0.1s ease-in;
    float:right;
    font-size: 1rem;
    font-weight: initial;

    &:hover{
        background-color: var(--tierciary-bckg-color);
    }

    &.left{
        float: left;
    }

    &>span {
        &>.plus{
            position: absolute;
            top: 3px;
            right: -43px;
        }
    }
}

/** FORM **/

select {
    &.mel-select{
        &.form-control{
            border-radius: 60px;
            background-color: var(--alternate-bckg-color);
            border: none;
            color:var(--main-text-color);
        }
    }
}

/** CUSTOM HTML **/

/* SEPARATE */

separate {
    border-top-color: var(--separate);
    border-top-style: solid;
    border-top-width: thin;
    margin: 20px 30px;

    &.device{
        display: block;
        border-color: var(--separate-device);
        margin-bottom: 14px;
        margin-top: 9px;
        margin-left: 0;
        margin-right: 0;
    }
}

/* FRAMED_ITEM */

framed_item {
    &>.framed_item{
        padding:15px;
    }
}

/** CONTACTS **/

#contacts-table{
    &>tbody{
        &>tr{
            &>td{
                &.contactgroup{
                    background-color: var(--secondary-bckg-color);
                    &:hover{
                        background-color: var(--tierciary-bckg-color);
                    }
                }

                &.contact{
                    background-color: var(--secondary-bckg-color);
                    &:hover{
                        background-color: var(--tierciary-bckg-color);
                    }
                }
            }

            &.selected{
                &>td{
                    &.contactgroup{
                        background-color: var(--tierciary-bckg-color);
                    }

                    a.contact{
                        background-color: var(--tierciary-bckg-color);
                    }
                }
            }
        }
    }

    tr{
        td{
            cursor: pointer;
        }
    }

    &.listing{
        li{
            &.selected{
                cursor: default;

                .popupmenu &{
                    cursor: default;
                }
            }

            &:hover{
                background-color: var(--secondary-bckg-color);

                .popupmenu &{
                    background-color: var(--secondary-bckg-color);
                }

            }
        }

        tr{
            &.selected{
                td{
                    cursor: default;
                }
            }

            &:hover{
                td{
                    background-color: var(--secondary-bckg-color);
                }
            }
        }

    }


}

#showcontacts{
    &::before
    {
        vertical-align: sub;
        margin: 0!important;
    }
}

#_button-back-adressbook
{
    position: absolute;
    left: 5px;
}

#button-back-adressbook
{
    #_button-back-adressbook();

    &:hover{
        color:var(--main-text-color)!important;
    }
}
#button-back-adressbook2
{
    #_button-back-adressbook();

    &:hover{
        color:var(--tierciary-text-color) !important;
        .mel-invisible-background();
    }
}

.task-addressbook{

    &.action-plugin-annuaire{
        .searchbar{
            form{
                &:after{
                    content: none!important;
                }
            }
        }
    }

    &>#layout{
        #layout-sidebar{
            &>.header{
                height: 120px;
            }
        }

        #layout-list{
            &>.header{
                height: 120px;
            }
        }
    }

    &.action-show{
        &.formcontainer{
            #layout{
                display: none;
            }
        }
    }

    .searchbar{
        border-radius: 60px;
        border:none!important;

        &:after{
            content: "\f002";
            height: 36px;
            color: var(--main-text-color);
            margin: 0 .75rem 0 0;
        
            font-size: 1.25em;
            display: block;
            float: left;
            width: 1.18em;
            font-family: 'Icons';
            font-style: normal;
            font-weight: 900;
            text-decoration: inherit;
            text-align: center;
            speak: none;
            font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            -webkit-font-smoothing: antialiased;
        }

        form{
            &::before{
                content: none;
            }
        }
    }

    .button{
        &.reset{
            display:block!important;
            color: var(--main-text-color) !important;
        
            &:hover{
                color: var(--secondary-text-color)!important;
            }
        }

        &.options{
            color: var(--main-text-color) !important;

            &:hover{
                color: var(--secondary-text-color)!important;
            }
        }
    }

    ul.treelist{
        &.iconized{
            li{
                div{
                    &.treetoggle{
                        &:hover{
                            text-shadow: 1px 3px 0px var(--text-shadow);
                        }
                    }
                }
            }
        }
    }
    
}

.searchgroup{
    &>center{
        &span{
            font-size: larger;
        }
    }
}

.filtergroup{
    &>center{
        &span{
            font-size: larger;
        }
    }

    &>.row{
        margin-top: -11px;

        &>div{
            &>select{
                border-radius: 60px;
            }
        }
    }
}

#annuaire-list{
    li{
        cursor: unset!important;

        .treetoggle{
            cursor: pointer;
        }
    }
}

ul#directorylist{
    &.treelist{
        li{
            &>div{
                &>a{
                    cursor: pointer;
                }
            }

            &>a{
                cursor: pointer;
            }

            &.selected{
                &>div{
                    &>a{
                        cursor: default;
                    }
                }
    
                &>a{
                    cursor: default;
                }
            }

            &:hover{
                &>div{
                    &>a{
                        background-color: var(--tierciary-bckg-color);
                    }
                }
    
                &>a{
                    background-color: var(--tierciary-bckg-color);
                }
            }
        }
    }
}

/** TACHES **/

#tasklist{
    li{
        &.taskitem{
            div{
                &.taskhead{
                    &.selected{
                        background-color:var(--secondary-bckg-color)!important;
                    }

                    &.complete{
                        span.title{
                            color: var(--secondary-text-color)!important;
                        }
                    }
                }
            }

            &>div{
                border-color:var(--tierciary-border-color)!important;
            }

            &>span{
                border-color:var(--tierciary-border-color)!important;
            }

            ul&{
                &:nth-child(2n){
                    background-color:var(--alternate-tierciary-bckg-color);
                }
            }
        }
    }

    span{
        &.date{
            color: var(--secondary-text-color) !important;
            font-style: italic;
            font-size: smaller;
        }
    }

}

#taskmenu{
    a{
        &:hover {
            &>sup{
                &>span{
                    color:var(--tierciary-text-color);
                }
            }
        }

        &.selected{
            &:hover{
                &>sup {
                    &>span{
                        color:var(--tierciary-text-color);
                    }
                }
            }

            &>sup {
                &>span{
                    color:var(--tierciary-text-color);
                }
            }
        }
    }

    .action-buttons{
        a {
            &:hover{
                &>sup {
                    &>span{
                        color:var(--tierciary-text-color);
                    }
                }    
            }
        }
    }
}

.taskhead{
    body.task-tasks &{
        cursor: pointer;

        &:hover{
            cursor: pointer;
            background-color: var(--main-bckg-color) ;
        }
    }
}

/** PARAMETRES **/

#settingstabpluginmel_resources{
    .noselect();

    &>a{
        ::before{
            font-family:var(--secondary-icon-font);
            content: "\eaa0";
        }
    }

    &>._selected{
        &>a{
            ::before{
                font-family:var(--secondary-icon-font);
                content: "\ea99";
            }
        }  
    }
}

#settingstabpluginmel_statistics{
    .noselect();

    &>a{
        ::before{
            font-family:var(--secondary-icon-font);
            content: "\eaa0";
        }
    }

    &>._selected{
        &>a{
            ::before{
                font-family:var(--secondary-icon-font);
                content: "\ea99";
            }
        }  
    }
}

body{
    &.task-settings{
        &.action-plugin-mel_resources_bal{
            #layout-content{
                .header{
                    display: none!important;

                    html@{layout-small} &{
                        display: initial!important;

                        .toolbar-menu-button{
                            display: none!important;
                        }
                    }
                }
            }

            #layout-list {
                html@{layout-small} &{
                    .floating-action-buttons{
                        .create{
                            &.button{
                                display: none!important;
                            }
                        }
                    }
                }
            }

        }

        &.action-plugin-managesieve{
            #layout-list{
                .menu{
                    &.toolbar{
                        a{
                            color:var(--secondary-text-color)!important;
                        }
                    }
                }
            }
        }

        &.action-plugin-mel_statistics_mobile{
            #layout-list{
                .listing{
                    tbody{
                        td{
                            color: var(--secondary-text-color);
                        }
                    }
                }
            }

            .listing {
                tbody {
                    td{
                        color: var(--main-text-color);
                    }
                }
            }
        }

        .listing{
            tbody{
                td{
                    cursor: pointer;

                    &:hover{
                        background-color: var(--secondary-bckg-color);
                    }
                }

                .selected{
                    td{
                        cursor: default;
                    }
                }
            }
        }

        .scroller{
            &>.listing{
                li{
                    a{
                        cursor: pointer;
                    }

                    &.selected{
                        a{
                            cursor: default;
                        }
                    }

                    &:hover{
                        background-color: var(--secondary-bckg-color);
                    }
                }
            }
        }
    }
}

#settingstabresponses {
	display: none;
}

/** SEPARATIONS ***/

.row.separate,
.btn.separate,
.mel_separate
{
    margin-top:5px;
}

/** ROUNDBADGE **/

.roundbadge{
    display: inline-block;
    height: 12px;
    width: 12px;
    line-height: 12px;
    -moz-border-radius: 15px;
    border-radius: 15px;
    background-color: var(--roundbadge-default-bckg-color);
    text-align: center;
    font-weight: bold;
    font-size: 6px;

    &.no-weight{
        font-weight: normal;
    }

    &.large{
      height: 30px;
      width: 30px;
      line-height: 30px;
      font-size: initial;
    }

    &.clear{
      background-color: var(--alternate-bckg-color);
      border-color: var(--alternate-bckg-color);
    }

    &.dark{
      background-color: var(--main-bckg-color);
    }

    &.setalign{
      top: -1px;
      left: -6px;
      position: absolute;
    }

    &.warning{
        background-color: var(--warning-color);
    }

    &.danger{
        background-color: var(--danger-color);
    }

    &.royal{
        background-color:var(--royal-color);
    }

    &.lightgreen{
        background-color: var(--roundbadge-bckg-color);
    }

    &.hover {
        &.tick{
            cursor: pointer;

            &:hover{
                background-color: var(--roundbadge-bckg-color);
            
                &::before{
                    content: "\eed8"!important;
                }
            }
        }
    }

    &.menu{
        top: -5px;
        position: absolute;
        height: 15px;
        width: 15px;
        line-height: 16px;
        font-size: 8px;
        color: var(--roundbadge-menu-bckg-color);
        left: -10px;

        @{layout-phone} &{
            top: 32px;
            left: -20px;
        }
    }

    a&{
        &.link{
            color:var(--secondary-text-color);
            text-decoration: none;
            font-weight: normal;

            &:hover{
                background-color: var(--tierciary-bckg-color);
            }
        }


    }



}

.dwp-round{
    width: 64px;
    height: 64px;
    background-color: var(--roundbadge-bckg-color);
    display: block;
    border-radius: 100%;
    text-align: center;
    color: inherit!important;
    text-decoration: none!important;
    -webkit-mask-image: linear-gradient(rgba(0, 0, 0, 1.0), white);

    &>span{
        line-height: 64px;
        font-size: x-large;
    }

    &> img{
        height: 100%;
    }
    
}

/** LOGIN **/

.task-error-login{
    &>#layout{
        &>#layout-content{
            margin-top:60px;
        }
    }
}

.task-login {
    #layout.overflowed {
        overflow: auto;
    }
}

/** BOUTTONS **/

html{
    &@{layout-small}{
        .floating-action-buttons{
            top:0px;

            &>a{
                .mel-invisible-background-unimportant();
                box-shadow: none;
                transition: all 0.1s ease-in;
            
                &:hover{
                    color:#2C3054!important;
                    background-color: var(--tierciary-bckg-color) !important;
                }
            }
        }
    }
}

body{
    &.task-mail{
        .floating-action-buttons
        {
            display: none;
        }
    }
}

.mel-return{
    .mel-all-ease-in-animation();
    cursor: pointer;

    &:hover{
        color:var(--danger-color);
    }
}

.btn-primary{
    color: var(--tierciary-text-color);
    background: var(--roundbadge-bckg-color);
    border-color: var(--btn-primary-border-color);

    &:hover{
        color: var(--tierciary-text-color);
        background: var(--btn-primary-bckg-color-hover);
        border-color: var(--btn-primary-border-color-hover);
    }
}

.mel-selected-content-button
{
    border-radius: 0;
    min-width: 50px;
}

.mel-button{
    .mel-all-ease-in-animation();
    color: var(--secondary-text-color);
    background-color: var(--main-bckg-color);
    border-color: var(--mel-button-border-color);
    display: inline-block;
    width: -moz-fit-content;
    width: fit-content;
    border-radius: 50px;
    padding: 5px 10px;
    margin-top: 15px;
    cursor: pointer;

    &.mel-button-block{
        display: block;

        html@{layout-phone} &{
            display: inline-block;
        }

        html@{layout-small} &{
            display: inline-block;
        }
    }

    &.ignoreActive{
        color: var(--secondary-text-color)!important;
        background-color: var(--main-bckg-color)!important;
        border-color: var(--mel-button-border-color)!important;

        &.inverse{
            border-color: var(--mel-button-border-color-alt)!important;
            background-color: var(--tierciary-bckg-color)!important;

            &:hover{
                background-color: var(--main-bckg-color)!important;
                border-color: var(--mel-button-border-color)!important;
            }
        }

        &:hover
        {
            background-color: var(--tierciary-bckg-color)!important;
            border-color: var(--mel-button-border-color-alt)!important;
        }
    }

    &.inverse{
        border-color: var(--mel-button-border-color-alt);
        background-color: var(--tierciary-bckg-color);

        &:hover{
            background-color: var(--main-bckg-color);
            border-color: var(--mel-button-border-color);
        }
    }

    &.white{
        background-color: var(--default-background);
        color: unset;
        border-style: solid;
        border-width: thin;
        border-color: var(--mel-button-border-color);

        &:hover{
            color: var(--secondary-text-color);
        }
    }

    button.btn-mel:hover + button&.under-button,
    button.btn-mel.active + button&.under-button {
            color: var(--secondary-text-color);

            &:hover{
                color: var(--main-text-color);
                background-color:var(--alternate-bckg-color);
            }
    }

    &.bckg{
        .mel-invisible-background-unimportant();
        color: unset;
        border-style: solid;
        border-width: thin;
        border-color: var(--mel-button-border-color);

        &.true{
            border-color: var(--invisible);
        }

        &.color-for-dark
        {
            color: var(--secondary-text-color);
        }

        &:hover{
            color: var(--secondary-text-color);
        }
        
    }

    &.btn-danger{
        background-color: var(--warning-color);
        border-color: var(--warning-color);
    }

    &.btn-success{
        background-color: var(--success-color);
        border-color: var(--success-color);
    }

    &.mel-test-audio-button {
        position: absolute;
        top: 0;
        right: 5px;
    }

    &:hover{
        background-color: var(--tierciary-bckg-color);
        border-color: var(--mel-button-border-color-alt);

        &>.mel-return
        {
            color:var(--danger-color);
        }
    }

    &:focus{
        .mel-bnum-indirect-actions();
    }

    &.button-white{
        &:hover{
            color:var(--secondary-text-color);
        }
    }

    &.disabled{
        color: var(--secondary-text-color);
        background-color: var(--disabled-mel-button-color) !important;
        border-color: var(--disabled-mel-button-color) !important;
        pointer-events: none;
    }

    &.no-button-margin
    {
        margin-top:0;
    }

    &.under-button {
        &.selected{
            &:extend(.mel-button.btn-success);
            color: var(--secondary-text-color);

            &:hover{
                &:extend(.mel-button:hover);
            }
        }
    }
}

.mel-ui-button{
    &.btn{
        background-color: var(--main-bckg-color);
        color: var(--secondary-text-color);
        border-color: var(--mel-button-border-color);

        .large-toolbar &{
            background-color: var(--invisible);
            border-color: var(--invisible);
            text-align: left;
            margin-bottom: 5px;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
            border-radius: 5px!important;
        }
        
        &:hover{
            background-color: var(--tierciary-bckg-color);
            border-color: var(--mel-button-border-color-alt);
            border-radius: 5px;
        }

        &:active{
            .large-toolbar &{
                background-color: var(--main-bckg-color);
                color: var(--secondary-text-color);
                border-color: var(--invisible);
                border-radius: 5px;
            }
        }

        &:focus{
            .large-toolbar &{
                .mel-bnum-indirect-actions()!important;
            }
        }

        &.disabled{
            background-color: var(--disabled-mel-button-color);/*#a3a7bc;*/
            border-color: var(--disabled-mel-button-color);/*#a3a7bc;*/

            .large-toolbar &{
                background-color: var(--main-bckg-color);
                color: var(--secondary-text-color);
                border-color: var(--invisible);
                opacity: 1;
                border-radius: 5px;
            }
        }
    }
}


.btn-arrow {
    .mel-all-ease-in-animation();
    cursor: pointer;


    button&{
        &.btn
        {
            .mel-invisible-background();
            color: var(--main-text-color);
            border-color: var(--invisible) !important;

            &:hover{
                color:var(--tierciary-text-color);
            }

        }
    }

    &:hover{
        color:var(--tierciary-text-color);
    }
}

button{
    &.btn{
        &.no-style{
            color: var(--main-text-color);
            text-align: left;
            .mel-invisible-background-unimportant();
            border-color: var(--invisible);

            &.full-width{
                width: 100%;
            }

            &:hover{
                color: var(--tierciary-text-color);
            }

            &:active{
                color: var(--secondary-text-color)!important;
                background-color: var(--tierciary-bckg-color)!important;
                border-color: transparent!important;
            }
        }
    }
}

.btn-text{
    &.btn-mel-invisible{
        background-color: var(--invisible) !important;
        color: var(--main-text-color);
        border-color: var(--invisible) !important;
        border-radius: 15px!important;

        &:hover{
            color: var(--tierciary-text-color);
        }
    }
}

/** INPUT **/

.form-control {
    &:focus{
        border-color: var(--secondary-focus-border);
        box-shadow: 0 0 0 .2rem var(--secondary-focus);
    }
}

.mel-hover{
    &:hover{
        .mel-bnum-indirect-actions();
        border-radius: 15px;

        &:focus{
            border-radius: initial;
        }
    }
}

.mel-focus{
    &:focus{
        .mel-bnum-indirect-actions();
    }

    &.focused{
        .mel-bnum-indirect-actions();
    }

    .light-focus{
        &:focus{
            .mel-bnum-indirect-actions-light();
        }
    }

    &.focus-bordered{
        &:focus{
            border: solid;
            box-shadow: none;
            border-width: thin;
            border-color: var(--tierciary-focus);
        }
    }

    &.focus-text{
        &:focus{
            box-shadow: none;
            text-shadow: 0 0 .2rem var(--tierciary-focus);
        }
    }

    &.focus-background{
        &:focus{
            box-shadow: none;
            background: var(--background-focus);
            background-repeat: no-repeat;
        }
    }
}

.input-child-mel-focus{
    input{
        &:focus{
            .mel-bnum-indirect-actions();
        }
    }
}

.a-child-mel-focus{
    a{
        &:focus{
            box-shadow: 0 0 0 .2rem var(--other-focus);
        }
    }
}

a.filename{
    &:focus{
        .mel-bnum-indirect-actions-light();
    }
}

/* FORM */
form{
    &#mel_doubleauth-form{
        overflow: auto;
    }
}

/* INPUT TEXT */
._red-star{
    /** MIXIN **/
    content: "*";
    color:var(--red-star);
}

.red-star{
    &::before{
        ._red-star();
    }

    &.mel-before-remover
    {
        color:var(--red-star);
    }
}

.red-star-after{
    &::after{
        ._red-star();
    }
}

/** IMAGES **/
img {
    &.menu-image {
        width: 30px;
        margin-left: -26px;
        margin-right: 15px;
    }
}

/** ??? **/
html:not(.touch) .listing li > a:focus, html:not(.touch) .listing.focus tbody tr.focused > td:first-child,
html:not(.touch) .listing.focus:not(.withselection) tbody tr.focused > td.selection + td {
    border-left: 2px solid #80D5C6 !important;
    border-radius: 0;
}

td.mel-fit-content{
    max-width: min-content;
    max-width: -moz-min-content;
}

a.button.icon.attach::before, button.btn.attach::before {
	content: "\e91c";
	font-family: var(--main-icon-font);
	font-weight: normal;
	font-size: unset;
}

#mainscreen.box.mel_help-box
{
    display: block !important;
}

tr.elementmoveup > td{
    border-top-style: dotted;
    border-top-color: black;
}

.upload-form{
    .hint{
        color:var(--secondary-text-color);
    }
}

#sections-table{
    tr {
        td {
            width: 100%;
        }
    }
}

.mel-r{
    .name{
        margin-right:5px;
    }
}

.subject .mel-search-location {
	font-size: smaller;
}

/** CARDS **/

.card-header-disabled
{
    display:none;
}

/** RECHERCHE **/

._mel-search{
    border-right: none;
    border-color: var(--secondary-border-color);
    border-bottom-left-radius: 15px;
    border-top-left-radius: 15px;
}

.mel-search{
    ._mel-search();
    border-bottom-right-radius: 15px;
    border-top-right-radius: 15px;
}

.mel-search-group {
    &>input{
        ._mel-search();
    }

    & .input-group-append{
        &>.input-group-text{
            background-color: var(--default-background);
            border-bottom-right-radius: 15px;
            border-top-right-radius: 15px;
            border-color: var(--secondary-border-color);
        }
    }
}

.searchbar{
    html@{layout-phone} &{
        a{
            &::before{
                height: auto!important;
            }
        }
    }

    html@{layout-small} &{
        a{
            &::before{
                height: auto!important;
            }
        }
    }

    body.task-tasks &{
        form{
            &::before{
                content: none;
            }

            &::after{
                content: "\e92d";
                font-family: var(--main-icon-font)!important;
            }
        }
    }
}

#quicksearchbar{
    .button.options.annuaire-filter-selected{
        background-color:var(--quicksearchbar-annuaire-filter-bckg-color);
    }
}

.mel-search-margin{
    margin: 0 15px;
    width: auto;
}

/** ONGLETS **/

._mel-tab{
    cursor: pointer;
    padding: 0 15px;
    display: inline-block;
}

._mel-tabheader{
    font-size: larger;
    white-space: nowrap;
    border-color:transparent!important;
    border-right-style: solid!important;
    border-width: 1px!important;
    border-right-color: var(--tab-header-right-border-color)!important;
    border-radius: 0px!important;
}

._mel-tab-state{
    color:var(--mel-tab-text-color)!important;
    text-decoration: underline;
}

.mel-tabheader {
    ._mel-tabheader();

    &.last{
        border: none!important;
    }
}

.mel-responsive-tabheader{
    ._mel-tabheader();  

    &.last{
        border: none!important;
    }
}

.mel-tab{
    ._mel-tab();

    &:hover{
        ._mel-tab-state();
    }

    &.active{
        ._mel-tab-state();
        cursor: initial;
    }

    button.btn&{
        .mel-invisible-background();
        color:var(--main-text-color)!important;       
        
        &:hover,
        &:active,
        &.active {
            ._mel-tab-state();
        }
        
    }

}

.mel-responsive-tab{
    ._mel-tab();
    .mel-invisible-background();
    color:var(--main-text-color)!important;

    &:hover{
        ._mel-tab-state();
    }

    &.active,
    &.selected{
        ._mel-tab-state();
        cursor: initial;
    }

    button.btn&{
        .mel-invisible-background();
        color:var(--main-text-color)!important;        
    }
}

.responsiveTabList{
    margin-bottom: 15px;

    button{
        white-space: break-spaces;
    }

    .row&{
        &.namespace-reponsive-tab-shortcut{
            margin-left: 15px;
            margin-right: 15px;
            background-color: var(--alternate-bckg-color);
            padding: 15px 0;
            border-radius: 5px;
        }
    }
}

/** SQUARE DIV **/

.square_div {
    &>.contents
    {
      background-color:var(--alternate-bckg-color);
      height:230px;
      border-radius: 5px;

      &.DARK{
        background-color:var(--tierciary-bckg-color);
        color:var(--secondary-text-color);/*#E6E7ED;*/
      }

    }
}

.square-contents
{
    padding:30px;
}

/** VISIOCONFERENCE **/

.webconf-myday
{
    text-align: center;
}

.span-webconf{
    span&{
        display:block;
        font-size: 10px;
    }
}

/** CONTENTS REMOVER **/
.mel-before-remover{
    &::before{
        content: none!important;
    }
}

.mel-child-form-before-remover{
    &>form{
        &:before
        {
            content: none!important;
        }
    }
}

.mel-after-remover{
    &::after
    {
        content: none!important;
    }
}

/** LINKS **/

.mel-not-link {
    color:var(--main-text-color);

    &.color-white{
         color:var(--secondary-text-color);

         &:hover{
            text-decoration: underline;
        }
    }

    &:hover{
        text-decoration: none;
    }
}

.link-ellipse {
	white-space: nowrap;
	display:inline-block;
	overflow: hidden;
	text-overflow: ellipsis;
 }

/** SCREEN READER **/

.sr-only-focusable{
    &.mel-rapid-link{
        &:focus{
            position: absolute;
            top:0;
            z-index: 9999999;
            background-color: var(--sr-background);
            padding: 5px;
            border-bottom-left-radius: 5px;
            border-bottom-right-radius: 5px;
        }
    }
}

/** DIALOG **/

.ui-dialog {
    border-radius: 1em;

    iframe{
        &.ui-dialog-content{
            padding:0;
        }
    }

    .ui-dialog-titlebar {
        border-radius: 1em;
        border-bottom: none;
    }
}

/** RCMAIL **/

/* NOTIFS */

#messagestack{
    z-index: 9999;

    .notice{
        &.private{
            background-color: var(--private-color);

            .icon{
                &::before{
                    font-family: var(--main-icon-font)!important;
                    content: "\e966"!important;
                    font-weight: normal!important; 
                }
            }
        }

        &.notif{
            background-color: var(--royal-color);
        
            &::before{
                font-family: var(--main-icon-font)!important;
                content: "\e964"!important;
                font-weight: normal!important; 
            }
        }
    }

}


/** CONTEXTMENU **/

.contextmenu{
    .moved-item-mt
    {
        display:none!important;
    }
}

/** ICONS **/

.icon-mel::before
{
    font-family: var(--main-icon-font)!important;
    font-weight: normal;
}

.icon-mel-send::before
{
    content: "\e954"!important;
}

.icon-mel-videoconference::before
{
    content: "\e938"!important;
}

.icon-mel-plus::before
{
    content: "\e929"!important;
}

.icon-mel-close::before
{
    content: "\e908"!important;
    font-family: var(--main-icon-font)!important;
}

a.roadmap::before
{
    content: "\efd8"!important;
    font-family: var(--secondary-icon-font)!important;
    font-weight: normal!important;
}

#mel_envoi_differe::before
{
    font-family: var(--secondary-icon-font)!important;
    font-weight: normal!important;
    content: "\eedc"!important;
}

.menu a.folders::before {
	content: "\e951"!important;
    font-family: var(--main-icon-font)!important;
    font-weight: normal!important;
}

.menu a.source::before {
	content: "\eef0"!important;
    font-family: var(--secondary-icon-font)!important;
    font-weight: normal!important;
}

.menu a.move::before {
	content: "\e915"!important;
    font-family: var(--main-icon-font)!important;
    font-weight: normal!important;
}

.menu a.extwin::before {
	content: "\e910"!important;
    font-family: var(--main-icon-font)!important;
    font-weight: normal!important;
}

.menu a.calendarlink::before {
	content: "\e901"!important;
    font-family: var(--main-icon-font)!important;
    font-weight: normal!important;
}

.menu a.tasklistlink::before,
.menu a.taskaddlink::before {
	content: "\e931"!important;
    font-family: var(--main-icon-font)!important;
    font-weight: normal!important;
}

html .menu a.selection::before {
	content: "\e932"!important;
    font-family: var(--main-icon-font)!important;
    font-weight: normal!important;
}

.menu a.select.page::before {
	content: "\e91f"!important;
    font-family: var(--main-icon-font)!important;
    font-weight: normal!important;
}

.menu a.unread::before, 
.menu a.expand.unread::before, 
.menu a.select.unread::before {
	content: "\e91e"!important;
    font-family: var(--main-icon-font)!important;
    font-weight: normal!important;
}

.menu a.flag::before, 
.menu a.select.flagged::before {
	content: "\e957"!important;
    font-family: var(--main-icon-font)!important;
    font-weight: normal!important;
}

/***/
.menu a.select.invert::before {
	content: "\e932"!important;
    font-family: var(--main-icon-font)!important;
    font-weight: normal!important;
    color: var(--secondary-text-color);
    text-shadow: 0px 0px 1px var(--text-shadow);
}

.menu a.select.invert:hover:before {
    color: var(--secondary-bckg-color);
    text-shadow: 0px 0px 1px var(--default-background);
}

.menu a.select.none::before {
	content: "\e908"!important;
    font-family: var(--main-icon-font)!important;
    font-weight: normal!important;
}

.menu a.logout::before {
	content: "\e967"!important;
    font-family: var(--main-icon-font)!important;
    font-weight: normal!important;
}

.icon-mel-videoconference::before
{
    font-family: var(--main-icon-font)!important;
    content: "\e938"!important;
    font-weight: normal!important;
}

.icon-mel-mail::before
{
    font-family: var(--main-icon-font)!important;
    content: "\e91e"!important;
    font-weight: normal!important;
}

.icon-mel-workplace::before
{
    font-family: var(--main-icon-font)!important;
    content: "\e93a"!important;
    font-weight: normal!important;
}

.icon-mel-calendar::before
{
    font-family: var(--main-icon-font)!important;
    content: "\e901"!important;
    font-weight: normal!important;
}

.icon-mel-survey::before
{
    font-family: var(--main-icon-font)!important;
    content: "\e931"!important;
    font-weight: normal!important;
}

.icon-mel-folder::before
{
    font-family: var(--main-icon-font)!important;
    content: "\e915"!important;
    font-weight: normal!important;
}

.icon-mel-sondage::before
{
    font-family: var(--main-icon-font)!important;
    content: "\e930"!important;
    font-weight: normal!important;
}

.icon-mel-notes::before
{
    font-family: var(--main-icon-font)!important;
    content: "\e923"!important;
    font-weight: normal!important;
}

.icon-mel-parameters-invert::before{
    font-family: var(--main-icon-font)!important;
    content: "\e925"!important;
    font-weight: normal!important;
}

.listing.iconized li a.news::before
{
    font-family: var(--main-icon-font)!important;
    content: "\e91a";
}

.mel-button.iconized-mel-button:after
{
    margin-left: 15px;
    font-family: var(--main-icon-font);
}

.mel-button.iconized-mel-button.edit:after
{
    content: '\e95c';

}

.mel-button.iconized-mel-button.create:after
{
    content: '\e929';
}

.button.down-icon::before{
    content: '\e907';
    font-family: var(--main-icon-font)!important;
}

.button.up-icon::before{
    content: '\e906';
    font-family: var(--main-icon-font)!important;
}

.button.search-icon::before{
    content: '\e92d';
    font-family: var(--main-icon-font)!important;
}

.menu a.phone::before {
	content: "\e927" !important;
	font-family: var(--main-icon-font) !important;
	font-weight: normal !important;
}

.menu a.background::before {
	content: "\e968" !important;
	font-family: var(--main-icon-font) !important;
	font-weight: normal !important;
}

/** LINES **/

._multiple-lines(@l: 3)
{
    display: -webkit-box;
	-webkit-box-orient: vertical;
	white-space: normal;
    -webkit-line-clamp: @l;
}

.one-line {
    ._multiple-lines(1);
}

.two-lines {
    ._multiple-lines(2);
}

.three-lines{
    ._multiple-lines();
}

/** MSWP **/

._mwsp()
{
    border-style: solid;
    border-width: thick;
    border-color: var(--default-workspace-side-color);
}

.mwsp{
    html&{
        ._mwsp();

        .task-workspace{
            &.action-workspace{
                margin-bottom: 75px;
                .mel-all-ease-in-animation();
            }
        }

        &.moved{
            .task-workspace{
                &.action-workspace{
                    margin-bottom: 15px;
                }
            }
        }
    }

    #layout-content&{
        ._mwsp();

        .task-workspace.action-workspace &{
            margin-bottom: 75px;
            .mel-all-ease-in-animation();

            &.moved{
                margin-bottom: 15px;
            }
        }
    }

    &.moved{
        padding-bottom: 15px;

        iframe.discussion-frame&{
            padding-bottom: 0;
            margin-bottom: 15px;
        }
    }

    iframe.discussion-frame&{
        ._mwsp()!important;
        background-color:var(--default-workspace-side-color);
    }

    iframe&{
        padding-bottom: 75px;
        .mel-all-ease-in-animation();

        &.discussion-frame{
            padding-bottom: 75px;
            margin-bottom: 0;
        }
    }

    .conditionNoSatisfy{
        display: none!important;
    }
}

/* AMSWP */

.amwsp {
	background-color: var(--invisible);

    iframe{
        padding-bottom: 80px;
    }
}

/** THEME **/

.theme-mode-switch
{
    margin-top:3px;

    span{
        font-size: 0.8rem;
    }

    &.btn{
        &.btn-primary{
            &.btn-block{
                border-radius: 60px;
                height: 30px;
                width: 60px;
                border-color: var(--alternate-primary-border-color);
                background-color: var(--alternate-bckg-color);
                position: relative;
                margin-top: 15px;

                &::before{
                    content: "\ee66";
                    font-family: var(--secondary-icon-font);
                    margin: 0 !important;
                    position: absolute;
                    top: 2px;
                    left: 33px;
                    color: var(--alternate-primary-border-color)!important;
                    .mel-all-ease-in-animation();
                }

                &:after{
                    content: "";
                    border: solid var(--alternate-primary-border-color) thin;
                    background-color: var(--default-background);
                    width: 28px;
                    height: 28px;
                    display: block;
                    border-radius: 100%;
                    position: absolute;
                    top: 0;
                    right: 31px;
                    .mel-all-ease-in-animation();
                }
            }
        }
    }
}

/** NAVIGATION SECONDAIRE **/

.barup{
    .user-child{
        .mel-icofont-theme{
            &::before{
                font-family: var(--secondary-icon-font);
                content: "\ee7e";
            }
        }
    }
}

#createthings
{
    margin-right: 5px;
}

/* RACCOURCIS */

.shortcut-notes{
    .square-contents{
        padding: 0;
    }

    .contents{
        background-color: var(--invisible)!important;
    }
}

/* USER */

#mail-user-gp
{
    color:var(--main-text-color);

    &:hover{
        color:var(--main-text-color)!important;
        background-color: var(--invisible)!important;
    }
}

#barup-user
{
    height: 100%;
}

/** MAINTENANCE **/

.maintenance-text
{
    text-align: center;
    color: red;
}


/** TABLEAUX **/

table{
    &.table-striped{
        thead{
            &.mel_striped{
                td{
                    background-color: var(--default-background);  
                }
            }
        }
    }
}

.table {
  tbody {
    th {
      font-weight: 400;
    }
  }
}

/** NOTES **/

.mel-note {
    border-radius: 5px;
    margin-bottom: 15px;

    .note-header{
        input{
            border:none;
        }
    }

    .note-body{
        padding: 5px;

        textarea{
            border:none;
        }
    }
}

/******************ADDED******************/
.folderlist li.mailbox .unreadcount {
    background: var(--roundbadge-bckg-color);
    font-weight: normal;
    color: #000;
}
      
ul.folderlist.treelist li ul li a {
    font-weight: 200;
}
      
.messagelist td.subject .adr {
    font-weight: lighter;
}
      
table.messagelist .unread td.subject span.msgicon::before {
    content: "\e94d" !important;
    color: var(--tierciary-text-color) !important;
}
      
.roundbadge.lightgreen, .roundbadge.hover.tick:hover {
    background-color: var(--roundbadge-bckg-color);
}
      
.task-mail .quota-widget .bar {
    background-color: var(--quota-bar-bckg-color);
    border-color: var(--quota-bar-border-color);
    margin-left: 0;
}
      
      
a.rcmContactAddress {
    color: #333;/*#96b9e7 */
    font-weight: lighter;
} 
/**********************end added**************************/

/** BLOCKS **/

.mel-block-list
{
    white-space: nowrap;
	background-color: var(--alternate-bckg-color);
	width: 100%;
	padding: 15px;
	margin-bottom: 15px;
    border-radius: 5px;

    .icon{
        margin-right: 5px;

        &.no-icon{
            margin-right: 0;
            display: none;
        }
    }

    .col-item{
        overflow: hidden;
        text-overflow: ellipsis;
    }
}

/** BOOTSTRAP **/

._mixin-col-2(){
    -ms-flex: 0 0 33.333333%;
	flex: 0 0 33.333333%;
	max-width: 33.333333%;
}

@{touch}{
    .col-2{
        &.col-item{
            ._mixin-col-2();
        }
    }

    .col-6{
        &.col-item{
            ._mixin-col-2();
        }
    }
}

.alert{
    &.ui{
        &.boxalert{
            &.boxdanger{
                background-color: var(--danger-color-2);
            }
        }
    }
}

/** HISTORIQUE **/

#frame-mel-history {
	position: absolute;
	top: 0;
	left: 0;
	width: 120px;
	height: 100%;
    z-index: 999999;
    background-color: var(--secondary-bckg-color);
    overflow: auto;
}

#black-frame-mel-history {
	position: absolute;
	top: 0;
	left: 120px;
	width: 100%;
	height: 100%;
	background-color: var(--overlay-background);
	z-index: 9999999;
}

.waiting-events-number
{
    text-align: center;
    padding: 5px 0;
    background-color: var(--alternate-bckg-color-2);
    position: relative;
}

#waiting-events-list {
	position: absolute;
	padding: 15px;
    bottom: 30px;

    &-items {
        background-color: var(--alternate-bckg-color);
        border-radius: 5px;
        padding: 15px;
        max-height: 400px;
        overflow: auto;

        .waiting-event-button{
            border-radius: 5px;
            margin-top:5px;
            width: 100%;

            span{
                .element-block();
            }
        }
    }
}

/** END **/

.show-on-small
{
    display: none;

    html@{layout-phone} &,
    html@{layout-small} &{
        display: initial;
    }
}

.hide-on-small
{
    html@{layout-phone} &,
    html@{layout-small} &{
        display: none;
    }
}

.menu a.ct-cm{
    &::before{
        font-family: DWP!important;
        content: '\e920'!important;
    }
}

.falselink{
    cursor: pointer;
    
    &:hover{

    }
}

.multilink-sub{
    display: flex;
    background-color: var(--ghost-div-background);
    transition: @mel-default-animation;
    cursor: pointer;

    &-copy{
        text-decoration: none!important;
        transition: @mel-default-animation;
        display: block;
        align-self: center;
        padding-left: 5px;
        padding-right: 5px;
        color: var(--white);
    }

    &:hover{
        background-color: var(--ghost-div-background-inverse);

        .multilink-sub-copy{
            color: var(--main-text-color)!important;
        }
    }
}

.display{
    &-inline-block{
        display: inline-block;

        &.important{
            display: inline-block!important;
        }
    }
}

.tabs{
    &.mel-ui-tab-system{
        display: flex;

        button{
            flex: 1 0 auto;
        }
    }
}

.modal-dialog {
    html@{layout-phone} &,
    html@{layout-small} &{
        padding: 0!important;
    }
}

.shortcut-notes {
    .crossed-eye,
    .eye{
        html@{layout-phone} &,
        html@{layout-small} &{
            display: none;
        }
    }
}

.webconf-minimize{
    html@{layout-phone} &,
    html@{layout-small} &{
        display: none;
    }
}

.wsp-toolbar {
    &.webconf-toolbar{
        html@{layout-phone} &,
        html@{layout-small} &{
            display: flex!important;
        }
    }
}

.webconf-frame{
    #mm-ariane{
        html@{layout-phone} &,
        html@{layout-small} &{
            display: none;
        }
    }
}

.toolbar-popup {
    html@{layout-phone} &,
    html@{layout-small} &{
        right: unset;
    }
}

#calendaroptionsmenulink{
    &:hover,
    &:focus {
        background-color: #2C3054;
    }
}

#visio-right-pannel-util {
	position: absolute;
	height: 100%;
	width: calc(25% - 60px);
    min-width: 150px;
	top: 60px;
	right: 0;
	background-color: #F0F0F0;
    display: none;
    padding: 15px;
    border-bottom-left-radius: 5px;
    border-top-left-radius: 5px;
    .mel-all-ease-in-animation();

    &.right-mode {
        width: 200px;
        right: 323px;
    }

    &.visible-mode{
        display: unset;
    }

    &.password {
        border-radius: 5px;
        top: calc(50% + 60px);
        left: calc(50% + 60px);
        right: unset;
        transform: translateY(-50%) translateX(-50%);
        width: 50%;
        height: fit-content;
        background-color: white;
    }

    .title {
        margin-bottom: 15px;
    }

    .mel-selectable {
        padding: 15px;
        margin-bottom: 5px;
    }


    html.dark-mode &{
        background-color: #141414;
    }
}

#html-pannel {
	max-height: 80%;
	overflow: hidden auto;
}

.rotovisua {
	display: flex;

    .button {
        max-width: 70%;
    }

    .visu {
        max-width: 30%;
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;

        & > div {
            display: inline-block;
            width: 3px;
            height: 33px;
            margin: 0 1px;
            background: currentColor;
            transform: scaleY( .5 );
            opacity: .25;
        }
    }
}

.video-visio-label {
    position: absolute;
    /* bottom: 5px; */
    /* left: 18%; */
    background-color: #00000094;
    color: white;
    padding: 5px;
    border-radius: 5px;
    bottom: 0;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
}

.loader {
    &-base {
        width: var(--loader-width);
        height: var(--loader-height);
        mask:var(--loader-mask);
        -webkit-mask:var(--loader-mask);
        animation: mel-mask-loader-spin 1s linear infinite;
        animation-direction: reverse;

        /** Exemple **/
        &.tiny {
            --loader-width: 50px;
            --loader-height: 50px;
        }

        &.large {
            --loader-width: 400px;
            --loader-height: 400px;
        }
        /** FIN Exemple **/

        .loaded &{
            // animation: loaded 0.5s linear forwards;
            // animation-direction: reverse;
            animation: none;
            display: none;
    
            .loader-looping {
                animation: none;
                display: none;
            }
        }


    }

    &-looping {
        background: var(--loader-image);
        background-size: 50%;
        background-repeat: no-repeat;
        width: 100%;
        height: 100%;
        // animation: spin 1s linear infinite;
        // animation-direction: reverse;
        background-position: var(--loader-background-position);
    }

    &-div {
        position: absolute;
        top: 60px;
        left: 60px;
        width: calc(100% - 60px);
        height: calc(100% - 60px);

        &.loaded{
            display:none;
        }
    }
}

#theme-panel {

    .theme-pannel-tab-pictures {
        text-align: center;
        margin-right: 30px;
    }

    .themescontents{
        overflow-y: auto;
        overflow-x: hidden;
    }

    .picture {
        display: inline-block;
        width: 100%;
        height: 150px;
        border-radius: 15px; 
        margin: 0 15px;
        transition: all 0.1s ease-in;

        &.barup-background-color {
            border: solid thin var(--primary-border-color);

            html.dark-mode &{
                --primary-border-color:#E1C58F;
            }

            &:hover,
            &.selected{
                background-color: var(--secondary-nav-background-color);
            }
        }

        &:hover {
            border-radius: 100%;
        }

        &.selected {
            border-radius: 15px;
            background-blend-mode: color-dodge;
            border: solid thick #484D7A;

            html.dark-mode &{
                border: solid thick #E1C58F;
            }
        }
    }

    .input-top-selectable{
        &:extend(#theme-panel .picture);
        &:extend(#theme-panel .picture.barup-background-color);

        border-bottom: none;
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;

        button {
            width: 100%;
            height: 100%;
            border-top-left-radius: 15px;
            border-top-right-radius: 15px;
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;
            border: none;
            --main-bckg-color: var(--invisible);
            --secondary-text-color: var(--main-text-color);

            &:hover{
                border-top-left-radius: 100%;
                border-top-right-radius: 100%;
            }
        }

        &.hovered {
            &:extend(#theme-panel .picture:hover);
            border-bottom-left-radius: 0;
            border-bottom-right-radius: 0;
        }

        &+.picture.half-resize{
            border-top: none;
            border-top-left-radius: 0;
            border-top-right-radius: 0;

            &.barup-background-color {
                border-top:solid thin var(--primary-border-color);
            }
        }

        html.dark-mode &{
            &:extend(html.dark-mode #theme-panel .picture.barup-background-color);
        }
    }
}