/*!
FullCalendar v5.11.3
Docs & License: https://fullcalendar.io/
(c) 2022 Adam Shaw
*/
var FullCalendarICalendar=function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var a=r(n),i=function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},o=function(){function e(e){this.maxIterations=null!=e.maxIterations?e.maxIterations:1e3,this.skipInvalidDates=null!=e.skipInvalidDates&&e.skipInvalidDates,this.jCalData=a.parse(e.ics),this.component=new a.Component(this.jCalData),this.events=this.component.getAllSubcomponents("vevent").map((function(e){return new a.Event(e)})),this.skipInvalidDates&&(this.events=this.events.filter((function(e){try{return e.startDate.toJSDate(),e.endDate.toJSDate(),!0}catch(e){return!1}})))}return e.prototype.between=function(e,t){var n=this;function r(n,r){return(!e||r>=e.getTime())&&(!t||n<=t.getTime())}function a(e){var t=e.startDate.toJSDate().getTime(),n=e.endDate.toJSDate().getTime();return e.endDate.isDate&&n>t&&(n-=1),{startTime:t,endTime:n}}var i=[];this.events.forEach((function(e){e.isRecurrenceException()&&i.push(e)}));var o={events:[],occurrences:[]};return this.events.filter((function(e){return!e.isRecurrenceException()})).forEach((function(e){var s=[];if(e.component.getAllProperties("exdate").forEach((function(e){var t=e.getFirstValue();s.push(t.toJSDate().getTime())})),e.isRecurring()){var u=e.iterator(),c=void 0,l=0,f=function(){if(l+=1,c=u.next()){var n=e.getOccurrenceDetails(c),f=a(n),p=f.startTime,d=f.endTime,v=-1!==s.indexOf(p),h=i.find((function(t){return t.uid===e.uid&&t.recurrenceId.toJSDate().getTime()===n.startDate.toJSDate().getTime()}));if(t&&p>t.getTime())return"break";r(p,d)&&(h?o.events.push(h):v||o.occurrences.push(n))}};do{if("break"===f())break}while(c&&(!n.maxIterations||l<n.maxIterations))}else{var p=a(e);r(p.startTime,p.endTime)&&o.events.push(e)}})),o},e.prototype.before=function(e){return this.between(void 0,e)},e.prototype.after=function(e){return this.between(e)},e.prototype.all=function(){return this.between()},e}(),s={parseMeta:function(e){return e.url&&"ics"===e.format?{url:e.url,format:"ics"}:null},fetch:function(e,t,n){var r,a,i,s,c=e.eventSource.meta,l=c.internalState;function f(r,a,i){r?n({message:r,xhr:i}):t({rawEvents:u(a,e.range),xhr:i})}!l||e.isRefetch?(l=c.internalState={completed:!1,callbacks:[f],errorMessage:"",iCalExpander:null,xhr:null},r=c.url,a=function(e,t){for(var n=new o({ics:e,skipInvalidDates:!0}),r=0,a=l.callbacks;r<a.length;r++)(0,a[r])("",n,t);l.completed=!0,l.callbacks=[],l.iCalExpander=n,l.xhr=t},i=function(e,t){for(var n=0,r=l.callbacks;n<r.length;n++)(0,r[n])(e,null,t);l.completed=!0,l.callbacks=[],l.errorMessage=e,l.xhr=t},(s=new XMLHttpRequest).open("GET",r,!0),s.onload=function(){s.status>=200&&s.status<400?a(s.responseText,s):i("Request failed",s)},s.onerror=function(){return i("Request failed",s)},s.send(null)):l.completed?f(l.errorMessage,l.iCalExpander,l.xhr):l.callbacks.push(f)}};function u(e,n){for(var r=t.addDays(n.start,-1),a=t.addDays(n.end,1),o=e.between(r,a),s=[],u=0,l=o.events;u<l.length;u++){var p=l[u];s.push(i(i({},c(p)),{start:p.startDate.toString(),end:f(p)&&p.endDate?p.endDate.toString():null}))}for(var d=0,v=o.occurrences;d<v.length;d++){var h=v[d];p=h.item;s.push(i(i({},c(p)),{start:h.startDate.toString(),end:f(p)&&h.endDate?h.endDate.toString():null}))}return s}function c(e){return{title:e.summary,url:l(e),extendedProps:{location:e.location,organizer:e.organizer,description:e.description}}}function l(e){var t=e.component.getFirstProperty("url");return t?t.getFirstValue():""}function f(e){return Boolean(e.component.getFirstProperty("dtend"))||Boolean(e.component.getFirstProperty("duration"))}var p=t.createPlugin({eventSourceDefs:[s]});return t.globalPlugins.push(p),e.default=p,Object.defineProperty(e,"__esModule",{value:!0}),e}({},FullCalendar,ICAL);