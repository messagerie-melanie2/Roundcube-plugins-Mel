<div class="step" id="workspace-step1">
    <!--Etape 1-->
    <p class="red-star">
        <roundcube:label name='mel_metapage.required_fields' />
    </p>

    <!--Titre de l'espace-->
    <label for="workspace-title" class="red-star-after span-mel t1 first"><roundcube:label name='mel_metapage.worskpace_name' /></label>
    <div class="row">
        <div class="col-10">
            <input aria-required="true" required oninput="m_mp_input(this)" onchange="m_mp_input_change(this)" id=workspace-title class="form-control input-mel required" maxlength=30 placeholder="Nom de l'espace" />
        </div>
        <div class="col-2">
          <button id="workspace-title-param" type="button" style="font-size:larger" class="mel-button no-button-margin bckg true" title="Ajouter un id personnalisé"><span class="icon-mel-parameters"></span><span class="sr-only">Ajouter un id personnalisé</span></button>
        </div>
    </div>

    <div id="custom-div-uid" style="display: none;">
        <button type="button" id="custom-uid-is-enabled" class="mel-button">Activer l'id personalisé</button>
        <div id="custom-div-input-uid" style="display: none;">
            <label for="custom-uid" class="span-mel t1">Id personalisé</label>
            <input id="custom-uid" class="form-control input-mel" maxlength=30 placeholder="Id personalisé de l'espace" />
        </div>
    </div>

    <span class="span-mel t1"><roundcube:label name='mel_metapage.choose_avatar' /></span>
    <div class="row">
        <div class="col-2">
            <span id=tmpavatar></span>
        </div>
        <div class="col-10">
            <div class="custom-file hidden" style="margin-top: 15px;">
                <input class="form-control input-mel larger file custom-file-input" type="file">
                <label class="custom-file-label" data-browse="Parcourir"><roundcube:label name='mel_metapage.import_picture' /></label>
            </div>
        </div>
    </div>

    <!--Description de l'espace de travail-->
    <label for="workspace-desc" class="span-mel t1"><roundcube:label name='mel_metapage.description' /></label>
    <textarea id=workspace-desc class="form-control input-mel" placeholder="Description de l'espace de travail"></textarea>

    <!--Catégorie (#) de l'espace-->
    <label for="workspace-hashtag" class="span-mel t1"><roundcube:label name='mel_metapage.choose_hashtag' /></label>
    <div style="position: relative;">
        <input onclick="m_mp_affiche_hashtag_if_exists()" oninput="m_mp_get_all_hashtag_input()" class="form-control input-mel" id=workspace-hashtag type=text placeholder="Thématique de l'espace." />
        <div id="list-of-all-hashtag" style="display:none">

        </div>
    </div>
    <div class="row">
        <!--Date de fin de l'espace-->
        <div class="col-md-4 datetime">
            <label for="workspace-date-end" class="span-mel t1"><roundcube:label name='mel_metapage.define_end_date' /> <span class="sr-only">(format jj/mm/aaaa)</span></label>
            <div class="input-mel-datetime">
                <input class="form-control input-mel" id=workspace-date-end type=text placeholder="jj/mm/aaaa" aria-placeholder="jj/mm/aaaa" />
            </div>
        </div>

        <!--Accessibilité de l'espace-->
        <div class="col-md-4">
            <fieldset>
                <legend class="red-star-after span-mel t1">
                    <roundcube:label name='mel_metapage.authorized_access' />
                </legend>
                <div class="custom-control custom-radio">
                    <input type="radio" checked id="workspace-private" name="customRadio" class="custom-control-input required" checked>
                    <label class="custom-control-label" for="workspace-private"><roundcube:label name='mel_metapage.restricted' /></label>
                </div>

                <div class="custom-control custom-radio">
                    <input type="radio" id="workspace-public" name="customRadio" class="custom-control-input required">
                    <label class="custom-control-label" for="workspace-public"><roundcube:label name='mel_metapage.public' /></label>
                </div>
            </fieldset>
        </div>

        <!--Couleur de l'espace-->
        <div class="col-md-4">
            <label for="workspace-color" class="red-star-after span-mel t1"><roundcube:label name='mel_metapage.color' /></label>
            <input aria-required="true" required id="workspace-color" class="form-control input-mel" type=color value="#FFFFFF" />
        </div>
    </div>

    <!--Bouton continuer-->
    <button style="margin-top: 30px;float: right;" class="mel-button invite-button create btn-right-step1" onclick="m_mp_check_w(1,`workspace-step2`)">
        <span><roundcube:label name='mel_metapage.continue' /></span>
        <span class="icon-mel-arrow-right  plus" style="margin-left: 15px;"></span>
    </button>
</div>

<div class="step" id="workspace-step2" style="display:none;">
    <!--Etape 2-->
    <label for="_workspace-user-list" class="span-mel t1 first"><roundcube:label name='mel_metapage.select_attendees2' /></label>
    <div class="input-group">
        <textarea name="_to_workspace" spellcheck="false" id="to-workspace" tabindex="-1" data-recipient-input="true" style="position: absolute; opacity: 0; left: -5000px; width: 10px;" autocomplete="off" aria-autocomplete="list" aria-expanded="false" role="combobox"></textarea>
        <ul id="wspf" class="form-control input-mel recipient-input ac-input rounded-left">
            <li class="input">
                <!--Participants à ajouter-->
                <input class="form-control input-mel" placeholder="Ajouter des participants, séparés par des virgules" id="_workspace-user-list" onchange="m_mp_autocoplete(this, m_mp_add_users, false)" oninput="m_mp_autocoplete(this, m_mp_add_users, false)" type="text" autocomplete="on" 
                        aria-autocomplete="list" aria-expanded="false" role="combobox">
            </li>
        </ul>
        <span class="input-group-append">
            <!--Ouvre l'annuaire-->
            <button href="#add-contact" onclick="m_mp_openTo(this, 'workspace-user-list')" class="btn btn-secondary mel-focus input-group-text mel-text-center icon add recipient mel-text" title="Ajouter un contact" ><span class="inner">Ajouter un contact</span></button>
        <!--Ajoute les contacts de l'input-->
        </span>
    </div>

    <!-- <button title="Ajouter le(s) contact(s)" type="button" onclick="m_mp_add_users()" class="mel-button create mel-before-remover">Ajouter <span class="icon-mel-plus plus"></span></button> -->

    <!--Liste des participants-->
    <h3 class="span-mel t1">
        <roundcube:label name='mel_metapage.attendees_list' />
    </h3>
    <div id="mm-wsp-loading" style="display:none">
        <center>
            <span class="spinner-border"></span>
        </center>
    </div>
    <ul id="mm-cw-participants" class="ignore-bullet">

    </ul>

    <!--Retour-->
    <button style="margin-top: 30px;float: left;" class="mel-button invite-button create btn-workspace-left" onclick="m_mp_switch_step(`workspace-step1`)">
        <span><roundcube:label name='mel_metapage.back' /></span>
        <span class="icon-mel-undo  plus" style="margin-left: 15px;"></span>
    </button>

    <!--Sauvegarder-->
    <button style="margin-top: 30px;float: right;" class="mel-button invite-button create btn-workspace-right" onclick="m_mp_check_w(2, `workspace-step3`)">
        <span><roundcube:label name='mel_metapage.continue' /></span>
        <span class="icon-mel-arrow-right  plus" style="margin-left: 15px;"></span>
    </button>
</div>